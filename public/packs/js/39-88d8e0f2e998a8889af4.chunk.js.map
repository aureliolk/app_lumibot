{"version":3,"sources":["webpack:///./app/javascript/dashboard/components/widgets/Avatar.vue?f648","webpack:///./app/javascript/dashboard/components/widgets/Thumbnail.vue?93af","webpack:///./app/javascript/shared/helpers/IntegrationHelper.js","webpack:///./app/javascript/dashboard/assets/images/chatwoot_bot.png","webpack:///./app/javascript/widget/components/ChatInputWrap.vue?86a7","webpack:///./app/javascript/widget/components/ChatFooter.vue?b97a","webpack:///./app/javascript/widget/components/UserMessageBubble.vue?d9f2","webpack:///./app/javascript/widget/components/ImageBubble.vue?ae4a","webpack:///./app/javascript/widget/components/FileBubble.vue?8df2","webpack:///./app/javascript/shared/components/CardButton.vue?7e04","webpack:///./app/javascript/shared/components/ChatCard.vue?0915","webpack:///./app/javascript/shared/components/ChatForm.vue?e606","webpack:///./app/javascript/shared/components/ChatOption.vue?186d","webpack:///./app/javascript/shared/components/ChatOptions.vue?f535","webpack:///./app/javascript/shared/components/ChatOptions.vue?e20c","webpack:///./app/javascript/widget/components/template/Article.vue?adc1","webpack:///./app/javascript/widget/components/template/EmailInput.vue?3205","webpack:///./app/javascript/shared/components/CustomerSatisfaction.vue?808a","webpack:///./app/javascript/widget/components/template/IntegrationCard.vue?b6e8","webpack:///./app/javascript/widget/components/ChatMessage.vue?4c94","webpack:///./app/javascript/widget/components/ChatMessage.vue?8be2","webpack:///./app/javascript/widget/assets/images/typing.gif","webpack:///./app/javascript/widget/components/AgentTypingBubble.vue?2cc5","webpack:///./app/javascript/shared/components/DateSeparator.vue?54de","webpack:///./app/javascript/widget/components/ConversationWrap.vue?3a32","webpack:///./app/javascript/widget/views/Messages.vue?6b16","webpack:///app/javascript/widget/components/FooterReplyTo.vue","webpack:///./app/javascript/widget/components/FooterReplyTo.vue?bd25","webpack:///./app/javascript/widget/components/FooterReplyTo.vue","webpack:///./app/javascript/widget/components/FooterReplyTo.vue?700e","webpack:///app/javascript/widget/components/ChatAttachment.vue","webpack:///./app/javascript/widget/components/ChatAttachment.vue?d672","webpack:///./app/javascript/widget/components/ChatAttachment.vue","webpack:///./app/javascript/widget/components/ChatAttachment.vue?94cf","webpack:///./app/javascript/widget/components/ChatSendButton.vue?711c","webpack:///app/javascript/widget/components/ChatSendButton.vue","webpack:///./app/javascript/widget/components/ChatSendButton.vue","webpack:///./app/javascript/widget/components/ChatSendButton.vue?6d06","webpack:///app/javascript/widget/components/ChatInputWrap.vue","webpack:///./app/javascript/widget/components/ChatInputWrap.vue?4cd4","webpack:///./app/javascript/widget/components/ChatInputWrap.vue","webpack:///./app/javascript/widget/components/ChatInputWrap.vue?6d7d","webpack:///app/javascript/widget/components/ChatFooter.vue","webpack:///./app/javascript/widget/components/ChatFooter.vue?8c6f","webpack:///./app/javascript/widget/components/ChatFooter.vue","webpack:///./app/javascript/widget/components/ChatFooter.vue?19c5","webpack:///./app/javascript/widget/components/UserMessageBubble.vue?0840","webpack:///app/javascript/widget/components/UserMessageBubble.vue","webpack:///./app/javascript/widget/components/UserMessageBubble.vue","webpack:///./app/javascript/widget/components/UserMessageBubble.vue?fb7f","webpack:///./app/javascript/widget/components/MessageReplyButton.vue?532c","webpack:///app/javascript/widget/components/MessageReplyButton.vue","webpack:///./app/javascript/widget/components/MessageReplyButton.vue","webpack:///./app/javascript/widget/components/MessageReplyButton.vue?c131","webpack:///./app/javascript/widget/components/ImageBubble.vue?273c","webpack:///app/javascript/widget/components/ImageBubble.vue","webpack:///./app/javascript/widget/components/ImageBubble.vue","webpack:///./app/javascript/widget/components/ImageBubble.vue?fccc","webpack:///./app/javascript/widget/components/VideoBubble.vue?3905","webpack:///VideoBubble.vue","webpack:///./app/javascript/widget/components/VideoBubble.vue","webpack:///./app/javascript/widget/components/VideoBubble.vue?5725","webpack:///./app/javascript/widget/components/FileBubble.vue?c1ef","webpack:///app/javascript/widget/components/FileBubble.vue","webpack:///./app/javascript/widget/components/FileBubble.vue","webpack:///./app/javascript/widget/components/FileBubble.vue?03b1","webpack:///./app/javascript/widget/mixins/messageMixin.js","webpack:///app/javascript/widget/components/ReplyToChip.vue","webpack:///./app/javascript/widget/components/ReplyToChip.vue?92a1","webpack:///./app/javascript/widget/components/ReplyToChip.vue","webpack:///./app/javascript/widget/components/ReplyToChip.vue?dfac","webpack:///./app/javascript/widget/components/DragWrapper.vue?5b99","webpack:///app/javascript/widget/components/DragWrapper.vue","webpack:///./app/javascript/widget/components/DragWrapper.vue","webpack:///./app/javascript/widget/components/DragWrapper.vue?6e0f","webpack:///app/javascript/widget/components/UserMessage.vue","webpack:///./app/javascript/widget/components/UserMessage.vue?4cf0","webpack:///./app/javascript/widget/components/UserMessage.vue","webpack:///./app/javascript/widget/components/UserMessage.vue?e27f","webpack:///app/javascript/shared/components/CardButton.vue","webpack:///./app/javascript/shared/components/CardButton.vue?2f9c","webpack:///./app/javascript/shared/components/ChatCard.vue?95f7","webpack:///app/javascript/shared/components/ChatCard.vue","webpack:///./app/javascript/shared/components/CardButton.vue","webpack:///./app/javascript/shared/components/CardButton.vue?19ee","webpack:///./app/javascript/shared/components/ChatCard.vue","webpack:///./app/javascript/shared/components/ChatCard.vue?6526","webpack:///app/javascript/shared/components/ChatForm.vue","webpack:///./app/javascript/shared/components/ChatForm.vue?4553","webpack:///./app/javascript/shared/components/ChatForm.vue","webpack:///./app/javascript/shared/components/ChatForm.vue?69bb","webpack:///app/javascript/shared/components/ChatOption.vue","webpack:///./app/javascript/shared/components/ChatOption.vue?240d","webpack:///./app/javascript/shared/components/ChatOptions.vue?22d1","webpack:///app/javascript/shared/components/ChatOptions.vue","webpack:///./app/javascript/shared/components/ChatOption.vue","webpack:///./app/javascript/shared/components/ChatOption.vue?4bd5","webpack:///./app/javascript/shared/components/ChatOptions.vue","webpack:///./app/javascript/shared/components/ChatOptions.vue?715a","webpack:///./app/javascript/widget/components/template/Article.vue?6f75","webpack:///app/javascript/widget/components/template/Article.vue","webpack:///./app/javascript/widget/components/template/Article.vue","webpack:///./app/javascript/widget/components/template/Article.vue?a565","webpack:///app/javascript/widget/components/template/EmailInput.vue","webpack:///./app/javascript/widget/components/template/EmailInput.vue?431d","webpack:///./app/javascript/widget/components/template/EmailInput.vue","webpack:///./app/javascript/widget/components/template/EmailInput.vue?9500","webpack:///app/javascript/shared/components/CustomerSatisfaction.vue","webpack:///./app/javascript/shared/components/CustomerSatisfaction.vue?6856","webpack:///./app/javascript/shared/components/CustomerSatisfaction.vue","webpack:///./app/javascript/shared/components/CustomerSatisfaction.vue?2a77","webpack:///./app/javascript/widget/api/integration.js","webpack:///app/javascript/widget/components/template/IntegrationCard.vue","webpack:///./app/javascript/widget/components/template/IntegrationCard.vue?bf68","webpack:///./app/javascript/widget/components/AgentMessageBubble.vue?c722","webpack:///app/javascript/widget/components/AgentMessageBubble.vue","webpack:///./app/javascript/widget/components/template/IntegrationCard.vue","webpack:///./app/javascript/widget/components/template/IntegrationCard.vue?458b","webpack:///./app/javascript/widget/components/AgentMessageBubble.vue","webpack:///./app/javascript/widget/components/AgentMessageBubble.vue?b3a3","webpack:///app/javascript/widget/components/AgentMessage.vue","webpack:///./app/javascript/widget/components/AgentMessage.vue?2dd5","webpack:///app/javascript/widget/components/ChatMessage.vue","webpack:///./app/javascript/widget/components/ChatMessage.vue?f3cf","webpack:///./app/javascript/widget/components/AgentMessage.vue","webpack:///./app/javascript/widget/components/AgentMessage.vue?f833","webpack:///./app/javascript/widget/components/ChatMessage.vue","webpack:///./app/javascript/widget/components/ChatMessage.vue?2b1c","webpack:///./app/javascript/widget/components/AgentTypingBubble.vue?0c33","webpack:///app/javascript/widget/components/AgentTypingBubble.vue","webpack:///./app/javascript/widget/components/AgentTypingBubble.vue","webpack:///./app/javascript/widget/components/AgentTypingBubble.vue?f118","webpack:///./app/javascript/shared/components/DateSeparator.vue?6fd3","webpack:///app/javascript/shared/components/DateSeparator.vue","webpack:///app/javascript/widget/components/ConversationWrap.vue","webpack:///./app/javascript/widget/components/ConversationWrap.vue?3b40","webpack:///./app/javascript/shared/components/DateSeparator.vue","webpack:///./app/javascript/shared/components/DateSeparator.vue?10d6","webpack:///app/javascript/widget/views/Messages.vue","webpack:///./app/javascript/widget/components/ConversationWrap.vue","webpack:///./app/javascript/widget/components/ConversationWrap.vue?14ca","webpack:///./app/javascript/widget/views/Messages.vue?f6df","webpack:///./app/javascript/widget/views/Messages.vue","webpack:///./app/javascript/dashboard/helper/editorHelper.js","webpack:///./app/javascript/dashboard/components/widgets/Thumbnail.vue?79a4","webpack:///./app/javascript/dashboard/components/widgets/Thumbnail.vue?8701","webpack:///app/javascript/dashboard/components/widgets/Thumbnail.vue","webpack:///./app/javascript/dashboard/components/widgets/Thumbnail.vue","webpack:///./app/javascript/shared/helpers/emoji.js","webpack:///./app/javascript/shared/helpers/markdownIt/link.js","webpack:///./app/javascript/shared/helpers/MessageFormatter.js","webpack:///./app/javascript/shared/composables/useMessageFormatter.js","webpack:///./app/javascript/shared/helpers/timeHelper.js","webpack:///./app/javascript/shared/helpers/FileHelper.js","webpack:///./app/javascript/dashboard/components/widgets/Avatar.vue?795c","webpack:///./app/javascript/dashboard/components/widgets/Avatar.vue?1562","webpack:///app/javascript/dashboard/components/widgets/Avatar.vue","webpack:///./app/javascript/dashboard/components/widgets/Avatar.vue","webpack:///./app/javascript/shared/components/ResizableTextArea.vue?46f7","webpack:///./app/javascript/shared/components/ResizableTextArea.vue?38b8","webpack:///app/javascript/shared/components/ResizableTextArea.vue","webpack:///./app/javascript/shared/components/ResizableTextArea.vue","webpack:///./app/javascript/shared/components/Button.vue?f3bf","webpack:///./app/javascript/shared/components/Button.vue?26c2","webpack:///app/javascript/shared/components/Button.vue","webpack:///./app/javascript/shared/components/Button.vue"],"names":["buildDyteURL","roomName","dyteAuthToken","module","exports","_vm","this","_c","_self","staticClass","_v","_s","$t","inReplyTo","content","replyToAttachment","on","$event","$emit","attrs","ref","allowedFileTypes","direct_upload_url","direct_upload","onFileUpload","isUploading","image","_e","disabled","onClick","loading","style","color","class","getThemeClass","type","indexOf","_k","keyCode","key","hideEmojiPicker","apply","arguments","inputColor","onTypingOff","onTypingOn","onFocus","onBlur","model","value","callback","$$v","userInput","expression","onSendAttachment","toggleEmojiPicker","emojiIconColor","directives","name","rawName","emojiOnClick","handleButtonClick","widgetColor","hideReplyBox","textColor","startNewConversation","sendTranscript","isWidgetStyleFlat","hasReplyTo","handleSendMessage","handleSendAttachment","formatMessage","message","background","url","thumb","onImgError","readableTime","emit","_setup","_setupProxy","onVideoError","titleColor","title","computed","messageContentAttributes","content_attributes","hasAttachments","attachments","length","navigateTo","replyTo","id","transform","dragDistance","handleTouchStart","handleTouchMove","resetPosition","_t","isInProgress","isFailed","toggleReply","status","backgroundColor","_l","attachment","file_type","hasImageError","data_url","onImageLoadError","hasVideoError","onVideoLoadError","retrySendMessage","action","uri","borderColor","text","payload","mediaUrl","description","preventDefault","onSubmit","item","hasSubmitted","label","formValues","regex","required","placeholder","submittedValues","domProps","Array","isArray","_i","$$a","$$el","target","$$c","checked","$$i","$set","concat","slice","_q","composing","pattern","$$selectedVal","prototype","filter","call","options","o","selected","map","_value","multiple","option","pattern_error","onSubmitClick","buttonLabel","isSelected","hideFields","items","link","truncateMessage","modifiers","inputHasError","email","trim","v$","$touch","$forceUpdate","$invalid","isUpdating","rating","buttonClass","selectRating","emoji","isFeedbackSubmitted","feedback","isButtonDisabled","messageId","search","buildSearchParamsWithLocale","window","location","urlData","API","post","message_id","isLoading","joinTheCall","meetingLink","leaveTheRoom","isCards","isOptions","isForm","isArticle","isCSAT","data","submitted_values","onOptionSelect","button_label","onFormSubmit","media_url","actions","hasRecordedResponse","isASubmittedForm","showAvatar","avatarUrl","agentName","contentType","messageType","wrapClass","responseMessage","submittedValue","formattedDate","colorSchemeClass","isAgentTyping","groupedMessage","date","groupedMessages","SIGNATURE_DELIMITER","cleanSignature","signature","replace","nodes","MessageMarkdownTransformer","messageSchema","parse","MessageMarkdownSerializer","serialize","e","console","warn","Sentry","findSignatureInBody","body","trimmedBody","trimEnd","cleanedSignature","endsWith","lastIndexOf","appendSignature","appendDelimiter","removeSignature","signatureIndex","newBody","substring","delimiterIndex","replaceSignature","oldSignature","newSignature","extractTextFromMarkdown","markdown","split","line","Boolean","join","scrollCursorIntoView","view","pos","state","selection","head","node","domAtPos","scrollIntoView","behavior","block","insertAtCursor","editorView","from","to","tr","childCount","firstChild","replaceWith","insertText","insert","updateState","focus","findNodeToInsertImage","editorState","fileUrl","schema","currentNode","$from","typeName","size","imageNode","create","src","isInParagraph","needsNewLine","some","n","paragraph","setURLWithQueryAndSize","selectedImageNode","setNodeMarkup","height","docChanged","dispatch","createNode","nodeType","mention","userId","userFullName","nodeCreators","cannedResponse","variables","updatedMessage","replaceVariablesInMessage","textContent","variable","getContentNode","creator","component","thumbnailBoxClass","width","thumbnailClass","onImgLoad","shouldShowImage","userNameWithoutEmoji","avatarSize","badgeSrc","hasEmojiSupport","offset","devicePixelRatio","document","createElement","getContext","fillText","ctx","fillStyle","textBaseline","font","getImageData","removeEmoji","USER_MENTIONS_REGEX","processInlineToken","blockToken","children","forEach","inlineToken","imgSrc","attrGet","URL","searchParams","get","attrSet","setImageHeight","md","require","html","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","maxNesting","use","renderer","rules","tokens","idx","inline","ruler","before","silent","labelEnd","labelStart","res","token","href","max","posMax","charCodeAt","helpers","parseLinkLabel","parseLinkDestination","ok","normalizeLink","str","validateLink","match","RegExp","push","core","after","mila","rel","TWITTER_USERNAME_REGEX","TWITTER_HASH_REGEX","MessageFormatter","isATweet","isAPrivateNote","render","DOMParser","parseFromString","formattedMessage","useMessageFormatter","getPlainText","plainText","highlightContent","searchTerm","highlightClass","plainTextContent","escapedSearchTerm","messageStamp","time","dateFormat","unixTime","fromUnixTime","format","messageTimestamp","messageTime","now","Date","messageDate","isSameYear","dynamicTime","formatDistanceToNow","addSuffix","df","shortTimestamp","withAgo","suffix","timeMappings","convertToShortTime","formatBytes","bytes","decimals","k","dm","sizes","i","Math","floor","log","parseFloat","toFixed","checkFileSizeLimit","file","maximumUploadLimit","fileSize","userInitial","rows","onInput","onKeyup","buttonClassName"],"mappings":"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","file":"js/39-88d8e0f2e998a8889af4.chunk.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--2-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--2-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=style&index=0&id=59e049c0&prod&scoped=true&lang=css&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Thumbnail.vue?vue&type=style&index=0&id=70fe12bc&prod&lang=scss&scoped=true&\"","const DYTE_MEETING_LINK = 'https://app.dyte.in/meeting/stage/';\n\nexport const buildDyteURL = (roomName, dyteAuthToken) => {\n  return `${DYTE_MEETING_LINK}${roomName}?authToken=${dyteAuthToken}&showSetupScreen=true&disableVideoBackground=true`;\n};\n","module.exports = __webpack_public_path__ + \"media/dashboard/assets/images/chatwoot_bot-905112376e6493b37e2cecea8f9dc50c.png\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatInputWrap.vue?vue&type=style&index=0&id=375dd26f&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatFooter.vue?vue&type=style&index=0&id=f69b0136&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMessageBubble.vue?vue&type=style&index=0&id=452cdf30&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageBubble.vue?vue&type=style&index=0&id=2acd8573&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileBubble.vue?vue&type=style&index=0&id=d64c80de&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardButton.vue?vue&type=style&index=0&id=93636788&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatCard.vue?vue&type=style&index=0&id=3586be8d&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatForm.vue?vue&type=style&index=0&id=39980dff&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatOption.vue?vue&type=style&index=0&id=6b141dbc&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatOptions.vue?vue&type=style&index=0&id=683ae1de&prod&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatOptions.vue?vue&type=style&index=1&id=683ae1de&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=style&index=0&id=6748ece0&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailInput.vue?vue&type=style&index=0&id=4ab346c0&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerSatisfaction.vue?vue&type=style&index=0&id=693c4bbf&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntegrationCard.vue?vue&type=style&index=0&id=6b9cd794&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=style&index=0&id=e0e70978&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=style&index=1&id=e0e70978&prod&lang=scss&\"","module.exports = __webpack_public_path__ + \"media/widget/assets/images/typing-929e3aeb589b7668d0b4ff57f73e17e3.gif\";","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentTypingBubble.vue?vue&type=style&index=0&id=a39f9644&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateSeparator.vue?vue&type=style&index=0&id=7d535e9d&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationWrap.vue?vue&type=style&index=0&id=1ae28714&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col flex-1 overflow-hidden rounded-b-lg bg-slate-25 dark:bg-slate-800\"},[_c('div',{staticClass:\"flex flex-1 overflow-auto\"},[_c('ConversationWrap',{attrs:{\"grouped-messages\":_vm.groupedMessages}})],1),_vm._v(\" \"),_c('ChatFooter',{staticClass:\"px-5\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\n\nexport default {\n  name: 'FooterReplyTo',\n  components: { FluentIcon },\n  props: {\n    inReplyTo: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  computed: {\n    replyToAttachment() {\n      if (!this.inReplyTo?.attachments?.length) {\n        return '';\n      }\n\n      const [{ file_type: fileType } = {}] = this.inReplyTo.attachments;\n      return this.$t(`ATTACHMENTS.${fileType}.CONTENT`);\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"mb-2.5 rounded-[7px] dark:bg-slate-900 dark:text-slate-100 bg-slate-100 px-2 py-1.5 text-sm text-slate-700 flex items-center gap-2\"\n  >\n    <div class=\"items-center flex-grow truncate\">\n      <strong>{{ $t('FOOTER_REPLY_TO.REPLY_TO') }}</strong>\n      {{ inReplyTo.content || replyToAttachment }}\n    </div>\n    <button\n      class=\"items-end flex-shrink-0 p-1 rounded-md hover:bg-slate-200 dark:hover:bg-slate-800\"\n      @click=\"$emit('dismiss')\"\n    >\n      <FluentIcon icon=\"dismiss\" size=\"12\" />\n    </button>\n  </div>\n</template>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FooterReplyTo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FooterReplyTo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FooterReplyTo.vue?vue&type=template&id=1fdfa8bc&\"\nimport script from \"./FooterReplyTo.vue?vue&type=script&lang=js&\"\nexport * from \"./FooterReplyTo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"mb-2.5 rounded-[7px] dark:bg-slate-900 dark:text-slate-100 bg-slate-100 px-2 py-1.5 text-sm text-slate-700 flex items-center gap-2\"},[_c('div',{staticClass:\"items-center flex-grow truncate\"},[_c('strong',[_vm._v(_vm._s(_vm.$t('FOOTER_REPLY_TO.REPLY_TO')))]),_vm._v(\"\\n    \"+_vm._s(_vm.inReplyTo.content || _vm.replyToAttachment)+\"\\n  \")]),_vm._v(\" \"),_c('button',{staticClass:\"items-end flex-shrink-0 p-1 rounded-md hover:bg-slate-200 dark:hover:bg-slate-800\",on:{\"click\":function($event){return _vm.$emit('dismiss')}}},[_c('FluentIcon',{attrs:{\"icon\":\"dismiss\",\"size\":\"12\"}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport FileUpload from 'vue-upload-component';\nimport Spinner from 'shared/components/Spinner.vue';\nimport { checkFileSizeLimit } from 'shared/helpers/FileHelper';\nimport {\n  MAXIMUM_FILE_UPLOAD_SIZE,\n  ALLOWED_FILE_TYPES,\n} from 'shared/constants/messages';\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport { DirectUpload } from 'activestorage';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  components: { FluentIcon, FileUpload, Spinner },\n  props: {\n    onAttach: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  data() {\n    return { isUploading: false };\n  },\n  computed: {\n    ...mapGetters({ globalConfig: 'globalConfig/get' }),\n    fileUploadSizeLimit() {\n      return MAXIMUM_FILE_UPLOAD_SIZE;\n    },\n    allowedFileTypes() {\n      return ALLOWED_FILE_TYPES;\n    },\n  },\n  mounted() {\n    document.addEventListener('paste', this.handleClipboardPaste);\n  },\n  destroyed() {\n    document.removeEventListener('paste', this.handleClipboardPaste);\n  },\n  methods: {\n    handleClipboardPaste(e) {\n      const items = (e.clipboardData || e.originalEvent.clipboardData).items;\n      items.forEach(item => {\n        if (item.kind === 'file') {\n          e.preventDefault();\n          const file = item.getAsFile();\n          this.$refs.upload.add(file);\n        }\n      });\n    },\n    getFileType(fileType) {\n      return fileType.includes('image') ? 'image' : 'file';\n    },\n    async onFileUpload(file) {\n      if (this.globalConfig.directUploadsEnabled) {\n        await this.onDirectFileUpload(file);\n      } else {\n        await this.onIndirectFileUpload(file);\n      }\n    },\n    async onDirectFileUpload(file) {\n      if (!file) {\n        return;\n      }\n      this.isUploading = true;\n      try {\n        if (checkFileSizeLimit(file, MAXIMUM_FILE_UPLOAD_SIZE)) {\n          const { websiteToken } = window.chatwootWebChannel;\n          const upload = new DirectUpload(\n            file.file,\n            `/api/v1/widget/direct_uploads?website_token=${websiteToken}`,\n            {\n              directUploadWillCreateBlobWithXHR: xhr => {\n                xhr.setRequestHeader('X-Auth-Token', window.authToken);\n              },\n            }\n          );\n\n          upload.create((error, blob) => {\n            if (error) {\n              this.$emitter.emit(BUS_EVENTS.SHOW_ALERT, {\n                message: error,\n              });\n            } else {\n              this.onAttach({\n                file: blob.signed_id,\n                ...this.getLocalFileAttributes(file),\n              });\n            }\n          });\n        } else {\n          this.$emitter.emit(BUS_EVENTS.SHOW_ALERT, {\n            message: this.$t('FILE_SIZE_LIMIT', {\n              MAXIMUM_FILE_UPLOAD_SIZE: this.fileUploadSizeLimit,\n            }),\n          });\n        }\n      } catch (error) {\n        // Error\n      }\n      this.isUploading = false;\n    },\n    async onIndirectFileUpload(file) {\n      if (!file) {\n        return;\n      }\n      this.isUploading = true;\n      try {\n        if (checkFileSizeLimit(file, MAXIMUM_FILE_UPLOAD_SIZE)) {\n          await this.onAttach({\n            file: file.file,\n            ...this.getLocalFileAttributes(file),\n          });\n        } else {\n          this.$emitter.emit(BUS_EVENTS.SHOW_ALERT, {\n            message: this.$t('FILE_SIZE_LIMIT', {\n              MAXIMUM_FILE_UPLOAD_SIZE: this.fileUploadSizeLimit,\n            }),\n          });\n        }\n      } catch (error) {\n        // Error\n      }\n      this.isUploading = false;\n    },\n    getLocalFileAttributes(file) {\n      return {\n        thumbUrl: window.URL.createObjectURL(file.file),\n        fileType: this.getFileType(file.type),\n      };\n    },\n  },\n};\n</script>\n\n<template>\n  <FileUpload\n    ref=\"upload\"\n    :size=\"4096 * 2048\"\n    :accept=\"allowedFileTypes\"\n    :data=\"{\n      direct_upload_url: '/api/v1/widget/direct_uploads',\n      direct_upload: true,\n    }\"\n    @input-file=\"onFileUpload\"\n  >\n    <button class=\"icon-button flex items-center justify-center\">\n      <FluentIcon v-if=\"!isUploading.image\" icon=\"attach\" />\n      <Spinner v-if=\"isUploading\" size=\"small\" />\n    </button>\n  </FileUpload>\n</template>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatAttachment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatAttachment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatAttachment.vue?vue&type=template&id=421507eb&\"\nimport script from \"./ChatAttachment.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatAttachment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('FileUpload',{ref:\"upload\",attrs:{\"size\":4096 * 2048,\"accept\":_vm.allowedFileTypes,\"data\":{\n    direct_upload_url: '/api/v1/widget/direct_uploads',\n    direct_upload: true,\n  }},on:{\"input-file\":_vm.onFileUpload}},[_c('button',{staticClass:\"icon-button flex items-center justify-center\"},[(!_vm.isUploading.image)?_c('FluentIcon',{attrs:{\"icon\":\"attach\"}}):_vm._e(),_vm._v(\" \"),(_vm.isUploading)?_c('Spinner',{attrs:{\"size\":\"small\"}}):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatSendButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatSendButton.vue?vue&type=script&lang=js&\"","<script>\nimport Spinner from 'shared/components/Spinner.vue';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\n\nexport default {\n  components: {\n    FluentIcon,\n    Spinner,\n  },\n  props: {\n    loading: {\n      type: Boolean,\n      default: false,\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    onClick: {\n      type: Function,\n      default: () => {},\n    },\n    color: {\n      type: String,\n      default: '#6e6f73',\n    },\n  },\n};\n</script>\n\n<template>\n  <button\n    type=\"submit\"\n    :disabled=\"disabled\"\n    class=\"icon-button flex items-center justify-center ml-1\"\n    @click=\"onClick\"\n  >\n    <FluentIcon v-if=\"!loading\" icon=\"send\" :style=\"`color: ${color}`\" />\n    <Spinner v-else size=\"small\" />\n  </button>\n</template>\n","import { render, staticRenderFns } from \"./ChatSendButton.vue?vue&type=template&id=14b1237e&\"\nimport script from \"./ChatSendButton.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatSendButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('button',{staticClass:\"icon-button flex items-center justify-center ml-1\",attrs:{\"type\":\"submit\",\"disabled\":_vm.disabled},on:{\"click\":_vm.onClick}},[(!_vm.loading)?_c('FluentIcon',{style:(`color: ${_vm.color}`),attrs:{\"icon\":\"send\"}}):_c('Spinner',{attrs:{\"size\":\"small\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\n\nimport ChatAttachmentButton from 'widget/components/ChatAttachment.vue';\nimport ChatSendButton from 'widget/components/ChatSendButton.vue';\nimport configMixin from '../mixins/configMixin';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport ResizableTextArea from 'shared/components/ResizableTextArea.vue';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\n\nconst EmojiInput = () => import('shared/components/emoji/EmojiInput.vue');\n\nexport default {\n  name: 'ChatInputWrap',\n  components: {\n    ChatAttachmentButton,\n    ChatSendButton,\n    EmojiInput,\n    FluentIcon,\n    ResizableTextArea,\n  },\n  mixins: [configMixin],\n  props: {\n    onSendMessage: {\n      type: Function,\n      default: () => {},\n    },\n    onSendAttachment: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  setup() {\n    const { getThemeClass } = useDarkMode();\n    return { getThemeClass };\n  },\n  data() {\n    return {\n      userInput: '',\n      showEmojiPicker: false,\n      isFocused: false,\n    };\n  },\n\n  computed: {\n    ...mapGetters({\n      widgetColor: 'appConfig/getWidgetColor',\n      isWidgetOpen: 'appConfig/getIsWidgetOpen',\n    }),\n    showAttachment() {\n      return this.hasAttachmentsEnabled && this.userInput.length === 0;\n    },\n    showSendButton() {\n      return this.userInput.length > 0;\n    },\n    inputColor() {\n      return `${this.getThemeClass('bg-white', 'dark:bg-slate-600')}\n        ${this.getThemeClass('text-black-900', 'dark:text-slate-50')}`;\n    },\n    emojiIconColor() {\n      return this.showEmojiPicker\n        ? `text-woot-500 ${this.getThemeClass(\n            'text-black-900',\n            'dark:text-slate-100'\n          )}`\n        : `${this.getThemeClass('text-black-900', 'dark:text-slate-100')}`;\n    },\n  },\n  watch: {\n    isWidgetOpen(isWidgetOpen) {\n      if (isWidgetOpen) {\n        this.focusInput();\n      }\n    },\n  },\n  destroyed() {\n    document.removeEventListener('keypress', this.handleEnterKeyPress);\n  },\n  mounted() {\n    document.addEventListener('keypress', this.handleEnterKeyPress);\n    if (this.isWidgetOpen) {\n      this.focusInput();\n    }\n  },\n\n  methods: {\n    onBlur() {\n      this.isFocused = false;\n    },\n    onFocus() {\n      this.isFocused = true;\n    },\n    handleButtonClick() {\n      if (this.userInput && this.userInput.trim()) {\n        this.onSendMessage(this.userInput);\n      }\n      this.userInput = '';\n      this.focusInput();\n    },\n    handleEnterKeyPress(e) {\n      if (e.keyCode === 13 && !e.shiftKey) {\n        e.preventDefault();\n        this.handleButtonClick();\n      }\n    },\n    toggleEmojiPicker() {\n      this.showEmojiPicker = !this.showEmojiPicker;\n    },\n    hideEmojiPicker(e) {\n      if (this.showEmojiPicker) {\n        e.stopPropagation();\n        this.toggleEmojiPicker();\n      }\n    },\n    emojiOnClick(emoji) {\n      this.userInput = `${this.userInput}${emoji} `;\n    },\n    onTypingOff() {\n      this.toggleTyping('off');\n    },\n    onTypingOn() {\n      this.toggleTyping('on');\n    },\n    toggleTyping(typingStatus) {\n      this.$store.dispatch('conversation/toggleUserTyping', { typingStatus });\n    },\n    focusInput() {\n      this.$refs.chatInput.focus();\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"chat-message--input is-focused\"\n    :class=\"getThemeClass('bg-white ', 'dark:bg-slate-600')\"\n    @keydown.esc=\"hideEmojiPicker\"\n  >\n    <ResizableTextArea\n      id=\"chat-input\"\n      ref=\"chatInput\"\n      v-model=\"userInput\"\n      :rows=\"1\"\n      :aria-label=\"$t('CHAT_PLACEHOLDER')\"\n      :placeholder=\"$t('CHAT_PLACEHOLDER')\"\n      class=\"form-input user-message-input is-focused\"\n      :class=\"inputColor\"\n      @typingOff=\"onTypingOff\"\n      @typingOn=\"onTypingOn\"\n      @focus=\"onFocus\"\n      @blur=\"onBlur\"\n    />\n    <div class=\"button-wrap\">\n      <ChatAttachmentButton\n        v-if=\"showAttachment\"\n        :class=\"getThemeClass('text-black-900', 'dark:text-slate-100')\"\n        :on-attach=\"onSendAttachment\"\n      />\n      <button\n        v-if=\"hasEmojiPickerEnabled\"\n        class=\"flex items-center justify-center icon-button\"\n        :aria-label=\"$t('EMOJI.ARIA_LABEL')\"\n        @click=\"toggleEmojiPicker\"\n      >\n        <FluentIcon icon=\"emoji\" :class=\"emojiIconColor\" />\n      </button>\n      <EmojiInput\n        v-if=\"showEmojiPicker\"\n        v-on-clickaway=\"hideEmojiPicker\"\n        :on-click=\"emojiOnClick\"\n        @keydown.esc=\"hideEmojiPicker\"\n      />\n      <ChatSendButton\n        v-if=\"showSendButton\"\n        :on-click=\"handleButtonClick\"\n        :color=\"widgetColor\"\n      />\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n@import '~widget/assets/scss/variables.scss';\n@import '~widget/assets/scss/mixins.scss';\n\n.chat-message--input {\n  align-items: center;\n  display: flex;\n  padding: 0 $space-small 0 $space-slab;\n  border-radius: 7px;\n\n  &.is-focused {\n    box-shadow:\n      0 0 0 1px $color-woot,\n      0 0 2px 3px $color-primary-light;\n  }\n}\n\n.emoji-dialog {\n  right: 20px;\n  top: -302px;\n  max-width: 100%;\n\n  &::before {\n    right: $space-one;\n  }\n}\n\n.button-wrap {\n  display: flex;\n  align-items: center;\n  padding-left: $space-small;\n}\n\n.user-message-input {\n  border: 0;\n  height: $space-large;\n  min-height: $space-large;\n  max-height: 2.4 * $space-mega;\n  resize: none;\n  padding: $space-smaller 0;\n  margin-top: $space-small;\n  margin-bottom: $space-small;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatInputWrap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatInputWrap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatInputWrap.vue?vue&type=template&id=375dd26f&scoped=true&\"\nimport script from \"./ChatInputWrap.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatInputWrap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatInputWrap.vue?vue&type=style&index=0&id=375dd26f&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"375dd26f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-message--input is-focused\",class:_vm.getThemeClass('bg-white ', 'dark:bg-slate-600'),on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.hideEmojiPicker.apply(null, arguments)}}},[_c('ResizableTextArea',{ref:\"chatInput\",staticClass:\"form-input user-message-input is-focused\",class:_vm.inputColor,attrs:{\"id\":\"chat-input\",\"rows\":1,\"aria-label\":_vm.$t('CHAT_PLACEHOLDER'),\"placeholder\":_vm.$t('CHAT_PLACEHOLDER')},on:{\"typingOff\":_vm.onTypingOff,\"typingOn\":_vm.onTypingOn,\"focus\":_vm.onFocus,\"blur\":_vm.onBlur},model:{value:(_vm.userInput),callback:function ($$v) {_vm.userInput=$$v},expression:\"userInput\"}}),_vm._v(\" \"),_c('div',{staticClass:\"button-wrap\"},[(_vm.showAttachment)?_c('ChatAttachmentButton',{class:_vm.getThemeClass('text-black-900', 'dark:text-slate-100'),attrs:{\"on-attach\":_vm.onSendAttachment}}):_vm._e(),_vm._v(\" \"),(_vm.hasEmojiPickerEnabled)?_c('button',{staticClass:\"flex items-center justify-center icon-button\",attrs:{\"aria-label\":_vm.$t('EMOJI.ARIA_LABEL')},on:{\"click\":_vm.toggleEmojiPicker}},[_c('FluentIcon',{class:_vm.emojiIconColor,attrs:{\"icon\":\"emoji\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.showEmojiPicker)?_c('EmojiInput',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_vm.hideEmojiPicker),expression:\"hideEmojiPicker\"}],attrs:{\"on-click\":_vm.emojiOnClick},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.hideEmojiPicker.apply(null, arguments)}}}):_vm._e(),_vm._v(\" \"),(_vm.showSendButton)?_c('ChatSendButton',{attrs:{\"on-click\":_vm.handleButtonClick,\"color\":_vm.widgetColor}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapActions, mapGetters } from 'vuex';\nimport { getContrastingTextColor } from '@chatwoot/utils';\nimport CustomButton from 'shared/components/Button.vue';\nimport FooterReplyTo from 'widget/components/FooterReplyTo.vue';\nimport ChatInputWrap from 'widget/components/ChatInputWrap.vue';\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\nimport { sendEmailTranscript } from 'widget/api/conversation';\nimport routerMixin from 'widget/mixins/routerMixin';\nimport { IFrameHelper } from '../helpers/utils';\nimport { CHATWOOT_ON_START_CONVERSATION } from '../constants/sdkEvents';\n\nexport default {\n  components: {\n    ChatInputWrap,\n    CustomButton,\n    FooterReplyTo,\n  },\n  mixins: [routerMixin],\n  data() {\n    return {\n      inReplyTo: null,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      conversationAttributes: 'conversationAttributes/getConversationParams',\n      widgetColor: 'appConfig/getWidgetColor',\n      conversationSize: 'conversation/getConversationSize',\n      currentUser: 'contacts/getCurrentUser',\n      isWidgetStyleFlat: 'appConfig/isWidgetStyleFlat',\n    }),\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    hideReplyBox() {\n      const { allowMessagesAfterResolved } = window.chatwootWebChannel;\n      const { status } = this.conversationAttributes;\n      return !allowMessagesAfterResolved && status === 'resolved';\n    },\n    showEmailTranscriptButton() {\n      return this.hasEmail;\n    },\n    hasEmail() {\n      return this.currentUser && this.currentUser.has_email;\n    },\n    hasReplyTo() {\n      return (\n        this.inReplyTo && (this.inReplyTo.content || this.inReplyTo.attachments)\n      );\n    },\n  },\n  mounted() {\n    this.$emitter.on(BUS_EVENTS.TOGGLE_REPLY_TO_MESSAGE, this.toggleReplyTo);\n  },\n  methods: {\n    ...mapActions('conversation', [\n      'sendMessage',\n      'sendAttachment',\n      'clearConversations',\n    ]),\n    ...mapActions('conversationAttributes', [\n      'getAttributes',\n      'clearConversationAttributes',\n    ]),\n    async handleSendMessage(content) {\n      await this.sendMessage({\n        content,\n        replyTo: this.inReplyTo ? this.inReplyTo.id : null,\n      });\n      // reset replyTo message after sending\n      this.inReplyTo = null;\n      // Update conversation attributes on new conversation\n      if (this.conversationSize === 0) {\n        this.getAttributes();\n      }\n    },\n    async handleSendAttachment(attachment) {\n      await this.sendAttachment({\n        attachment,\n        replyTo: this.inReplyTo ? this.inReplyTo.id : null,\n      });\n      this.inReplyTo = null;\n    },\n    startNewConversation() {\n      this.clearConversations();\n      this.clearConversationAttributes();\n      this.replaceRoute('prechat-form');\n      IFrameHelper.sendMessage({\n        event: 'onEvent',\n        eventIdentifier: CHATWOOT_ON_START_CONVERSATION,\n        data: { hasConversation: true },\n      });\n    },\n    toggleReplyTo(message) {\n      this.inReplyTo = message;\n    },\n    async sendTranscript() {\n      if (this.hasEmail) {\n        try {\n          await sendEmailTranscript();\n          this.$emitter.emit(BUS_EVENTS.SHOW_ALERT, {\n            message: this.$t('EMAIL_TRANSCRIPT.SEND_EMAIL_SUCCESS'),\n            type: 'success',\n          });\n        } catch (error) {\n          this.$emitter.$emit(BUS_EVENTS.SHOW_ALERT, {\n            message: this.$t('EMAIL_TRANSCRIPT.SEND_EMAIL_ERROR'),\n          });\n        }\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <footer\n    v-if=\"!hideReplyBox\"\n    class=\"relative z-50 mb-1\"\n    :class=\"{\n      'rounded-lg': !isWidgetStyleFlat,\n      'pt-2.5 shadow-[0px_-20px_20px_1px_rgba(0,_0,_0,_0.05)] dark:shadow-[0px_-20px_20px_1px_rgba(0,_0,_0,_0.15)] rounded-t-none':\n        hasReplyTo,\n    }\"\n  >\n    <FooterReplyTo\n      v-if=\"hasReplyTo\"\n      :in-reply-to=\"inReplyTo\"\n      @dismiss=\"inReplyTo = null\"\n    />\n    <ChatInputWrap\n      class=\"shadow-sm\"\n      :on-send-message=\"handleSendMessage\"\n      :on-send-attachment=\"handleSendAttachment\"\n    />\n  </footer>\n  <div v-else>\n    <CustomButton\n      class=\"font-medium\"\n      block\n      :bg-color=\"widgetColor\"\n      :text-color=\"textColor\"\n      @click=\"startNewConversation\"\n    >\n      {{ $t('START_NEW_CONVERSATION') }}\n    </CustomButton>\n    <CustomButton\n      v-if=\"showEmailTranscriptButton\"\n      type=\"clear\"\n      class=\"font-normal\"\n      @click=\"sendTranscript\"\n    >\n      {{ $t('EMAIL_TRANSCRIPT.BUTTON_TEXT') }}\n    </CustomButton>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n@import '~widget/assets/scss/variables.scss';\n\n.branding {\n  align-items: center;\n  color: $color-body;\n  display: flex;\n  font-size: $font-size-default;\n  justify-content: center;\n  padding: $space-one;\n  text-align: center;\n  text-decoration: none;\n\n  img {\n    margin-right: $space-small;\n    max-width: $space-two;\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatFooter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatFooter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatFooter.vue?vue&type=template&id=f69b0136&scoped=true&\"\nimport script from \"./ChatFooter.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatFooter.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatFooter.vue?vue&type=style&index=0&id=f69b0136&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f69b0136\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.hideReplyBox)?_c('footer',{staticClass:\"relative z-50 mb-1\",class:{\n    'rounded-lg': !_vm.isWidgetStyleFlat,\n    'pt-2.5 shadow-[0px_-20px_20px_1px_rgba(0,_0,_0,_0.05)] dark:shadow-[0px_-20px_20px_1px_rgba(0,_0,_0,_0.15)] rounded-t-none':\n      _vm.hasReplyTo,\n  }},[(_vm.hasReplyTo)?_c('FooterReplyTo',{attrs:{\"in-reply-to\":_vm.inReplyTo},on:{\"dismiss\":function($event){_vm.inReplyTo = null}}}):_vm._e(),_vm._v(\" \"),_c('ChatInputWrap',{staticClass:\"shadow-sm\",attrs:{\"on-send-message\":_vm.handleSendMessage,\"on-send-attachment\":_vm.handleSendAttachment}})],1):_c('div',[_c('CustomButton',{staticClass:\"font-medium\",attrs:{\"block\":\"\",\"bg-color\":_vm.widgetColor,\"text-color\":_vm.textColor},on:{\"click\":_vm.startNewConversation}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('START_NEW_CONVERSATION'))+\"\\n  \")]),_vm._v(\" \"),(_vm.showEmailTranscriptButton)?_c('CustomButton',{staticClass:\"font-normal\",attrs:{\"type\":\"clear\"},on:{\"click\":_vm.sendTranscript}},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('EMAIL_TRANSCRIPT.BUTTON_TEXT'))+\"\\n  \")]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMessageBubble.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMessageBubble.vue?vue&type=script&lang=js&\"","<script>\nimport { useMessageFormatter } from 'shared/composables/useMessageFormatter';\nimport { getContrastingTextColor } from '@chatwoot/utils';\n\nexport default {\n  name: 'UserMessageBubble',\n  props: {\n    message: {\n      type: String,\n      default: '',\n    },\n    widgetColor: {\n      type: String,\n      default: '',\n    },\n  },\n  setup() {\n    const { formatMessage } = useMessageFormatter();\n    return {\n      formatMessage,\n    };\n  },\n  computed: {\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    v-dompurify-html=\"formatMessage(message, false)\"\n    class=\"chat-bubble user\"\n    :style=\"{ background: widgetColor, color: textColor }\"\n  />\n</template>\n\n<style lang=\"scss\" scoped>\n@import '~widget/assets/scss/variables.scss';\n\n.chat-bubble.user::v-deep {\n  p code {\n    background-color: var(--w-600);\n    color: var(--white);\n  }\n\n  pre {\n    background-color: var(--w-800);\n    border-color: var(--w-700);\n    color: var(--white);\n\n    code {\n      background-color: transparent;\n      color: var(--white);\n    }\n  }\n\n  blockquote {\n    border-left: $space-micro solid var(--w-400);\n    background: var(--s-25);\n    border-color: var(--s-200);\n\n    p {\n      color: var(--s-800);\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./UserMessageBubble.vue?vue&type=template&id=452cdf30&scoped=true&\"\nimport script from \"./UserMessageBubble.vue?vue&type=script&lang=js&\"\nexport * from \"./UserMessageBubble.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UserMessageBubble.vue?vue&type=style&index=0&id=452cdf30&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"452cdf30\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.formatMessage(_vm.message, false)),expression:\"formatMessage(message, false)\"}],staticClass:\"chat-bubble user\",style:({ background: _vm.widgetColor, color: _vm.textColor })})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageReplyButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageReplyButton.vue?vue&type=script&lang=js&\"","<script>\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\n\nexport default {\n  name: 'MessageReplyButton',\n  components: { FluentIcon },\n};\n</script>\n\n<template>\n  <button\n    class=\"p-1 mb-1 rounded-full dark:text-slate-500 dark:bg-slate-900 text-slate-600 bg-slate-100 hover:text-slate-800\"\n    @click=\"$emit('click')\"\n  >\n    <FluentIcon icon=\"arrow-reply\" size=\"11\" class=\"flex-shrink-0\" />\n  </button>\n</template>\n","import { render, staticRenderFns } from \"./MessageReplyButton.vue?vue&type=template&id=0dae8fa7&\"\nimport script from \"./MessageReplyButton.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageReplyButton.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('button',{staticClass:\"p-1 mb-1 rounded-full dark:text-slate-500 dark:bg-slate-900 text-slate-600 bg-slate-100 hover:text-slate-800\",on:{\"click\":function($event){return _vm.$emit('click')}}},[_c('FluentIcon',{staticClass:\"flex-shrink-0\",attrs:{\"icon\":\"arrow-reply\",\"size\":\"11\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageBubble.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageBubble.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  props: {\n    url: { type: String, default: '' },\n    thumb: { type: String, default: '' },\n    readableTime: { type: String, default: '' },\n  },\n  methods: {\n    onImgError() {\n      this.$emit('error');\n    },\n    onClick() {\n      this.$emit('click');\n    },\n  },\n};\n</script>\n\n<template>\n  <a\n    :href=\"url\"\n    target=\"_blank\"\n    rel=\"noreferrer noopener nofollow\"\n    class=\"image\"\n  >\n    <div class=\"wrap\">\n      <img\n        :src=\"thumb\"\n        alt=\"Picture message\"\n        @click=\"onClick\"\n        @error=\"onImgError\"\n      />\n      <span class=\"time\">{{ readableTime }}</span>\n    </div>\n  </a>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '~widget/assets/scss/variables.scss';\n\n.image {\n  display: block;\n\n  .wrap {\n    position: relative;\n    display: flex;\n    max-width: 100%;\n\n    &::before {\n      background-image: linear-gradient(\n        -180deg,\n        transparent 3%,\n        $color-heading 130%\n      );\n      bottom: 0;\n      content: '';\n      height: 20%;\n      left: 0;\n      opacity: 0.8;\n      position: absolute;\n      width: 100%;\n    }\n  }\n\n  img {\n    width: 100%;\n    max-width: 250px;\n  }\n\n  .time {\n    font-size: $font-size-small;\n    bottom: $space-smaller;\n    color: $color-white;\n    position: absolute;\n    right: $space-slab;\n    white-space: nowrap;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./ImageBubble.vue?vue&type=template&id=2acd8573&scoped=true&\"\nimport script from \"./ImageBubble.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageBubble.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ImageBubble.vue?vue&type=style&index=0&id=2acd8573&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2acd8573\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('a',{staticClass:\"image\",attrs:{\"href\":_vm.url,\"target\":\"_blank\",\"rel\":\"noreferrer noopener nofollow\"}},[_c('div',{staticClass:\"wrap\"},[_c('img',{attrs:{\"src\":_vm.thumb,\"alt\":\"Picture message\"},on:{\"click\":_vm.onClick,\"error\":_vm.onImgError}}),_vm._v(\" \"),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.readableTime))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoBubble.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./VideoBubble.vue?vue&type=script&setup=true&lang=js&\"","<script setup>\ndefineProps({\n  url: { type: String, default: '' },\n  readableTime: { type: String, default: '' },\n});\n\nconst emit = defineEmits(['error']);\n\nconst onVideoError = () => {\n  emit('error');\n};\n</script>\n\n<template>\n  <div class=\"relative block max-w-full\">\n    <video\n      class=\"w-full max-w-[250px] h-auto\"\n      :src=\"url\"\n      controls\n      @error=\"onVideoError\"\n    />\n    <span\n      class=\"absolute text-xs text-white dark:text-white right-3 bottom-1 whitespace-nowrap\"\n    >\n      {{ readableTime }}\n    </span>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./VideoBubble.vue?vue&type=template&id=7ce1e9e2&\"\nimport script from \"./VideoBubble.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./VideoBubble.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"relative block max-w-full\"},[_c('video',{staticClass:\"w-full max-w-[250px] h-auto\",attrs:{\"src\":_vm.url,\"controls\":\"\"},on:{\"error\":_setup.onVideoError}}),_vm._v(\" \"),_c('span',{staticClass:\"absolute text-xs text-white dark:text-white right-3 bottom-1 whitespace-nowrap\"},[_vm._v(\"\\n    \"+_vm._s(_vm.readableTime)+\"\\n  \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileBubble.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileBubble.vue?vue&type=script&lang=js&\"","<script>\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\nimport { getContrastingTextColor } from '@chatwoot/utils';\n\nexport default {\n  components: {\n    FluentIcon,\n  },\n  props: {\n    url: {\n      type: String,\n      default: '',\n    },\n    isInProgress: {\n      type: Boolean,\n      default: false,\n    },\n    widgetColor: {\n      type: String,\n      default: '',\n    },\n    isUserBubble: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup() {\n    const { getThemeClass } = useDarkMode();\n    return { getThemeClass };\n  },\n  computed: {\n    title() {\n      return this.isInProgress\n        ? this.$t('COMPONENTS.FILE_BUBBLE.UPLOADING')\n        : decodeURI(this.fileName);\n    },\n    fileName() {\n      return this.url.substring(this.url.lastIndexOf('/') + 1);\n    },\n    contrastingTextColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    textColor() {\n      return this.isUserBubble && this.widgetColor\n        ? this.contrastingTextColor\n        : '';\n    },\n    titleColor() {\n      return !this.isUserBubble\n        ? this.getThemeClass('text-black-900', 'dark:text-slate-50')\n        : '';\n    },\n  },\n  methods: {\n    openLink() {\n      const win = window.open(this.url, '_blank');\n      win.focus();\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"file flex flex-row items-center p-3 cursor-pointer\">\n    <div class=\"icon-wrap\" :style=\"{ color: textColor }\">\n      <FluentIcon icon=\"document\" size=\"28\" />\n    </div>\n    <div class=\"meta\">\n      <div class=\"title\" :class=\"titleColor\" :style=\"{ color: textColor }\">\n        {{ title }}\n      </div>\n      <div class=\"link-wrap mb-1\">\n        <a\n          class=\"download\"\n          rel=\"noreferrer noopener nofollow\"\n          target=\"_blank\"\n          :style=\"{ color: textColor }\"\n          :href=\"url\"\n        >\n          {{ $t('COMPONENTS.FILE_BUBBLE.DOWNLOAD') }}\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '~widget/assets/scss/variables.scss';\n\n.file {\n  .icon-wrap {\n    font-size: $font-size-mega;\n    color: $color-woot;\n    line-height: 1;\n    margin-left: $space-smaller;\n    margin-right: $space-small;\n  }\n\n  .title {\n    font-weight: $font-weight-medium;\n    font-size: $font-size-default;\n    margin: 0;\n  }\n\n  .download {\n    color: $color-woot;\n    font-weight: $font-weight-medium;\n    padding: 0;\n    margin: 0;\n    font-size: $font-size-small;\n    text-decoration: none;\n  }\n\n  .link-wrap {\n    line-height: 1;\n  }\n  .meta {\n    padding-right: $space-smaller;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./FileBubble.vue?vue&type=template&id=d64c80de&scoped=true&\"\nimport script from \"./FileBubble.vue?vue&type=script&lang=js&\"\nexport * from \"./FileBubble.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FileBubble.vue?vue&type=style&index=0&id=d64c80de&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d64c80de\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"file flex flex-row items-center p-3 cursor-pointer\"},[_c('div',{staticClass:\"icon-wrap\",style:({ color: _vm.textColor })},[_c('FluentIcon',{attrs:{\"icon\":\"document\",\"size\":\"28\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"meta\"},[_c('div',{staticClass:\"title\",class:_vm.titleColor,style:({ color: _vm.textColor })},[_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"link-wrap mb-1\"},[_c('a',{staticClass:\"download\",style:({ color: _vm.textColor }),attrs:{\"rel\":\"noreferrer noopener nofollow\",\"target\":\"_blank\",\"href\":_vm.url}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('COMPONENTS.FILE_BUBBLE.DOWNLOAD'))+\"\\n      \")])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n  computed: {\n    messageContentAttributes() {\n      const { content_attributes: attribute = {} } = this.message;\n      return attribute;\n    },\n    hasAttachments() {\n      return !!(\n        this.message.attachments && this.message.attachments.length > 0\n      );\n    },\n  },\n};\n","<script>\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\n\nexport default {\n  name: 'AgentMessage',\n  components: {\n    FluentIcon,\n  },\n  props: {\n    replyTo: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      timeOutID: null,\n    };\n  },\n  computed: {\n    replyToAttachment() {\n      if (!this.replyTo?.attachments?.length) {\n        return '';\n      }\n\n      const [{ file_type: fileType } = {}] = this.replyTo.attachments;\n      return this.$t(`ATTACHMENTS.${fileType}.CONTENT`);\n    },\n  },\n\n  beforeDestroy() {\n    clearTimeout(this.timeOutID);\n  },\n  methods: {\n    navigateTo(id) {\n      const elementId = `cwmsg-${id}`;\n      this.$nextTick(() => {\n        const el = document.getElementById(elementId);\n        el.scrollIntoView();\n        el.classList.add('bg-slate-100', 'dark:bg-slate-900');\n        this.timeOutID = setTimeout(() => {\n          el.classList.remove('bg-slate-100', 'dark:bg-slate-900');\n        }, 500);\n      });\n    },\n  },\n};\n</script>\n\n<template>\n  <button\n    class=\"px-1.5 py-0.5 rounded-md text-slate-500 bg-slate-50 dark:bg-slate-900 opacity-60 hover:opacity-100 cursor-pointer flex items-center gap-1.5\"\n    @click=\"navigateTo(replyTo.id)\"\n  >\n    <FluentIcon icon=\"arrow-reply\" size=\"12\" class=\"flex-shrink-0\" />\n    <div class=\"truncate max-w-[8rem]\">\n      {{ replyTo.content || replyToAttachment }}\n    </div>\n  </button>\n</template>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyToChip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyToChip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReplyToChip.vue?vue&type=template&id=c06aa214&\"\nimport script from \"./ReplyToChip.vue?vue&type=script&lang=js&\"\nexport * from \"./ReplyToChip.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('button',{staticClass:\"px-1.5 py-0.5 rounded-md text-slate-500 bg-slate-50 dark:bg-slate-900 opacity-60 hover:opacity-100 cursor-pointer flex items-center gap-1.5\",on:{\"click\":function($event){return _vm.navigateTo(_vm.replyTo.id)}}},[_c('FluentIcon',{staticClass:\"flex-shrink-0\",attrs:{\"icon\":\"arrow-reply\",\"size\":\"12\"}}),_vm._v(\" \"),_c('div',{staticClass:\"truncate max-w-[8rem]\"},[_vm._v(\"\\n    \"+_vm._s(_vm.replyTo.content || _vm.replyToAttachment)+\"\\n  \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragWrapper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragWrapper.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  name: 'DragWrapper',\n  props: {\n    direction: {\n      type: String,\n      required: true,\n      validator: value => ['left', 'right'].includes(value),\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      startX: null,\n      dragDistance: 0,\n      threshold: 50, // Threshold value in pixels\n    };\n  },\n  methods: {\n    handleTouchStart(event) {\n      if (this.disabled) return;\n      this.startX = event.touches[0].clientX;\n    },\n    handleTouchMove(event) {\n      if (this.disabled) return;\n      const touchX = event.touches[0].clientX;\n      let deltaX = touchX - this.startX;\n\n      if (this.direction === 'right') {\n        this.dragDistance = Math.min(this.threshold, deltaX);\n      } else if (this.direction === 'left') {\n        this.dragDistance = Math.max(-this.threshold, deltaX);\n      }\n    },\n    resetPosition() {\n      if (\n        (this.dragDistance >= this.threshold && this.direction === 'right') ||\n        (this.dragDistance <= -this.threshold && this.direction === 'left')\n      ) {\n        this.$emit('dragged', this.direction);\n      }\n      this.dragDistance = 0; // Reset the position after releasing the touch\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    :style=\"{ transform: `translateX(${dragDistance}px)` }\"\n    class=\"will-change-transform\"\n    @touchstart=\"handleTouchStart\"\n    @touchmove=\"handleTouchMove\"\n    @touchend=\"resetPosition\"\n  >\n    <slot />\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./DragWrapper.vue?vue&type=template&id=d41f90b4&\"\nimport script from \"./DragWrapper.vue?vue&type=script&lang=js&\"\nexport * from \"./DragWrapper.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"will-change-transform\",style:({ transform: `translateX(${_vm.dragDistance}px)` }),on:{\"touchstart\":_vm.handleTouchStart,\"touchmove\":_vm.handleTouchMove,\"touchend\":_vm.resetPosition}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport UserMessageBubble from 'widget/components/UserMessageBubble.vue';\nimport MessageReplyButton from 'widget/components/MessageReplyButton.vue';\nimport ImageBubble from 'widget/components/ImageBubble.vue';\nimport VideoBubble from 'widget/components/VideoBubble.vue';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport FileBubble from 'widget/components/FileBubble.vue';\nimport { messageStamp } from 'shared/helpers/timeHelper';\nimport messageMixin from '../mixins/messageMixin';\nimport ReplyToChip from 'widget/components/ReplyToChip.vue';\nimport DragWrapper from 'widget/components/DragWrapper.vue';\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\n\nimport { mapGetters } from 'vuex';\n\nexport default {\n  name: 'UserMessage',\n  components: {\n    UserMessageBubble,\n    MessageReplyButton,\n    ImageBubble,\n    VideoBubble,\n    FileBubble,\n    FluentIcon,\n    ReplyToChip,\n    DragWrapper,\n  },\n  mixins: [messageMixin],\n  props: {\n    message: {\n      type: Object,\n      default: () => {},\n    },\n    replyTo: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      hasImageError: false,\n      hasVideoError: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      widgetColor: 'appConfig/getWidgetColor',\n    }),\n\n    isInProgress() {\n      const { status = '' } = this.message;\n      return status === 'in_progress';\n    },\n    showTextBubble() {\n      const { message } = this;\n      return !!message.content;\n    },\n    readableTime() {\n      const { created_at: createdAt = '' } = this.message;\n      return messageStamp(createdAt);\n    },\n    isFailed() {\n      const { status = '' } = this.message;\n      return status === 'failed';\n    },\n    errorMessage() {\n      const { meta } = this.message;\n      return meta\n        ? meta.error\n        : this.$t('COMPONENTS.MESSAGE_BUBBLE.ERROR_MESSAGE');\n    },\n    hasReplyTo() {\n      return this.replyTo && (this.replyTo.content || this.replyTo.attachments);\n    },\n  },\n  watch: {\n    message() {\n      this.hasImageError = false;\n      this.hasVideoError = false;\n    },\n  },\n  mounted() {\n    this.hasImageError = false;\n    this.hasVideoError = false;\n  },\n  methods: {\n    async retrySendMessage() {\n      await this.$store.dispatch(\n        'conversation/sendMessageWithData',\n        this.message\n      );\n    },\n    onImageLoadError() {\n      this.hasImageError = true;\n    },\n    onVideoLoadError() {\n      this.hasVideoError = true;\n    },\n    toggleReply() {\n      this.$emitter.emit(BUS_EVENTS.TOGGLE_REPLY_TO_MESSAGE, this.message);\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"user-message-wrap group\">\n    <div class=\"flex gap-1 user-message\">\n      <div\n        class=\"message-wrap\"\n        :class=\"{ 'in-progress': isInProgress, 'is-failed': isFailed }\"\n      >\n        <div v-if=\"hasReplyTo\" class=\"flex justify-end mt-2 mb-1 text-xs\">\n          <ReplyToChip :reply-to=\"replyTo\" />\n        </div>\n        <div class=\"flex justify-end gap-1\">\n          <div class=\"flex flex-col justify-end\">\n            <MessageReplyButton\n              v-if=\"!isInProgress && !isFailed\"\n              class=\"transition-opacity delay-75 opacity-0 group-hover:opacity-100 sm:opacity-0\"\n              @click=\"toggleReply\"\n            />\n          </div>\n          <DragWrapper direction=\"left\" @dragged=\"toggleReply\">\n            <UserMessageBubble\n              v-if=\"showTextBubble\"\n              :message=\"message.content\"\n              :status=\"message.status\"\n              :widget-color=\"widgetColor\"\n            />\n            <div\n              v-if=\"hasAttachments\"\n              class=\"chat-bubble has-attachment user\"\n              :style=\"{ backgroundColor: widgetColor }\"\n            >\n              <div\n                v-for=\"attachment in message.attachments\"\n                :key=\"attachment.id\"\n              >\n                <ImageBubble\n                  v-if=\"attachment.file_type === 'image' && !hasImageError\"\n                  :url=\"attachment.data_url\"\n                  :thumb=\"attachment.data_url\"\n                  :readable-time=\"readableTime\"\n                  @error=\"onImageLoadError\"\n                />\n\n                <VideoBubble\n                  v-if=\"attachment.file_type === 'video' && !hasVideoError\"\n                  :url=\"attachment.data_url\"\n                  :readable-time=\"readableTime\"\n                  @error=\"onVideoLoadError\"\n                />\n\n                <FileBubble\n                  v-else\n                  :url=\"attachment.data_url\"\n                  :is-in-progress=\"isInProgress\"\n                  :widget-color=\"widgetColor\"\n                  is-user-bubble\n                />\n              </div>\n            </div>\n          </DragWrapper>\n        </div>\n        <div\n          v-if=\"isFailed\"\n          class=\"flex justify-end px-4 py-2 text-red-700 align-middle\"\n        >\n          <button\n            v-if=\"!hasAttachments\"\n            :title=\"$t('COMPONENTS.MESSAGE_BUBBLE.RETRY')\"\n            class=\"inline-flex items-center justify-center ml-2\"\n            @click=\"retrySendMessage\"\n          >\n            <FluentIcon icon=\"arrow-clockwise\" size=\"14\" />\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserMessage.vue?vue&type=template&id=89fe4de8&\"\nimport script from \"./UserMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./UserMessage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"user-message-wrap group\"},[_c('div',{staticClass:\"flex gap-1 user-message\"},[_c('div',{staticClass:\"message-wrap\",class:{ 'in-progress': _vm.isInProgress, 'is-failed': _vm.isFailed }},[(_vm.hasReplyTo)?_c('div',{staticClass:\"flex justify-end mt-2 mb-1 text-xs\"},[_c('ReplyToChip',{attrs:{\"reply-to\":_vm.replyTo}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-end gap-1\"},[_c('div',{staticClass:\"flex flex-col justify-end\"},[(!_vm.isInProgress && !_vm.isFailed)?_c('MessageReplyButton',{staticClass:\"transition-opacity delay-75 opacity-0 group-hover:opacity-100 sm:opacity-0\",on:{\"click\":_vm.toggleReply}}):_vm._e()],1),_vm._v(\" \"),_c('DragWrapper',{attrs:{\"direction\":\"left\"},on:{\"dragged\":_vm.toggleReply}},[(_vm.showTextBubble)?_c('UserMessageBubble',{attrs:{\"message\":_vm.message.content,\"status\":_vm.message.status,\"widget-color\":_vm.widgetColor}}):_vm._e(),_vm._v(\" \"),(_vm.hasAttachments)?_c('div',{staticClass:\"chat-bubble has-attachment user\",style:({ backgroundColor: _vm.widgetColor })},_vm._l((_vm.message.attachments),function(attachment){return _c('div',{key:attachment.id},[(attachment.file_type === 'image' && !_vm.hasImageError)?_c('ImageBubble',{attrs:{\"url\":attachment.data_url,\"thumb\":attachment.data_url,\"readable-time\":_vm.readableTime},on:{\"error\":_vm.onImageLoadError}}):_vm._e(),_vm._v(\" \"),(attachment.file_type === 'video' && !_vm.hasVideoError)?_c('VideoBubble',{attrs:{\"url\":attachment.data_url,\"readable-time\":_vm.readableTime},on:{\"error\":_vm.onVideoLoadError}}):_c('FileBubble',{attrs:{\"url\":attachment.data_url,\"is-in-progress\":_vm.isInProgress,\"widget-color\":_vm.widgetColor,\"is-user-bubble\":\"\"}})],1)}),0):_vm._e()],1)],1),_vm._v(\" \"),(_vm.isFailed)?_c('div',{staticClass:\"flex justify-end px-4 py-2 text-red-700 align-middle\"},[(!_vm.hasAttachments)?_c('button',{staticClass:\"inline-flex items-center justify-center ml-2\",attrs:{\"title\":_vm.$t('COMPONENTS.MESSAGE_BUBBLE.RETRY')},on:{\"click\":_vm.retrySendMessage}},[_c('FluentIcon',{attrs:{\"icon\":\"arrow-clockwise\",\"size\":\"14\"}})],1):_vm._e()]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { getContrastingTextColor } from '@chatwoot/utils';\nexport default {\n  components: {},\n  props: {\n    action: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  computed: {\n    ...mapGetters({\n      widgetColor: 'appConfig/getWidgetColor',\n    }),\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    isLink() {\n      return this.action.type === 'link';\n    },\n  },\n  methods: {\n    onClick() {\n      // Do postback here\n    },\n  },\n};\n</script>\n\n<template>\n  <a\n    v-if=\"isLink\"\n    :key=\"action.uri\"\n    class=\"action-button button\"\n    :href=\"action.uri\"\n    :style=\"{\n      background: widgetColor,\n      borderColor: widgetColor,\n      color: textColor,\n    }\"\n    target=\"_blank\"\n    rel=\"noopener nofollow noreferrer\"\n  >\n    {{ action.text }}\n  </a>\n  <button\n    v-else\n    :key=\"action.payload\"\n    class=\"action-button button\"\n    :style=\"{ borderColor: widgetColor, color: widgetColor }\"\n    @click=\"onClick\"\n  >\n    {{ action.text }}\n  </button>\n</template>\n\n<style scoped lang=\"scss\">\n@import '~widget/assets/scss/variables.scss';\n@import '~dashboard/assets/scss/mixins.scss';\n\n.action-button {\n  align-items: center;\n  border-radius: $space-micro;\n  display: flex;\n  font-weight: $font-weight-medium;\n  justify-content: center;\n  margin-top: $space-smaller;\n  max-height: 34px;\n  padding: 0;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardButton.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatCard.vue?vue&type=script&lang=js&\"","<script>\nimport CardButton from 'shared/components/CardButton.vue';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\n\nexport default {\n  components: {\n    CardButton,\n  },\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    description: {\n      type: String,\n      default: '',\n    },\n    mediaUrl: {\n      type: String,\n      default: '',\n    },\n    actions: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  setup() {\n    const { getThemeClass } = useDarkMode();\n    return { getThemeClass };\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"card-message chat-bubble agent\"\n    :class=\"getThemeClass('bg-white', 'dark:bg-slate-700')\"\n  >\n    <img class=\"media\" :src=\"mediaUrl\" />\n    <div class=\"card-body\">\n      <h4\n        class=\"title\"\n        :class=\"getThemeClass('text-black-900', 'dark:text-slate-50')\"\n      >\n        {{ title }}\n      </h4>\n      <p\n        class=\"body\"\n        :class=\"getThemeClass('text-black-700', 'dark:text-slate-100')\"\n      >\n        {{ description }}\n      </p>\n      <CardButton v-for=\"action in actions\" :key=\"action.id\" :action=\"action\" />\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n@import '~widget/assets/scss/variables.scss';\n@import '~dashboard/assets/scss/mixins.scss';\n\n.card-message {\n  max-width: 220px;\n  padding: $space-small;\n  border-radius: $space-small;\n  overflow: hidden;\n\n  .title {\n    font-size: $font-size-default;\n    font-weight: $font-weight-medium;\n    margin-top: $space-smaller;\n    margin-bottom: $space-smaller;\n    line-height: 1.5;\n  }\n\n  .body {\n    margin-bottom: $space-smaller;\n  }\n\n  .media {\n    @include border-light;\n    width: 100%;\n    object-fit: contain;\n    max-height: 150px;\n    border-radius: 5px;\n  }\n\n  .action-button + .action-button {\n    background: $color-white;\n    @include thin-border($color-woot);\n    color: $color-woot;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./CardButton.vue?vue&type=template&id=93636788&scoped=true&\"\nimport script from \"./CardButton.vue?vue&type=script&lang=js&\"\nexport * from \"./CardButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CardButton.vue?vue&type=style&index=0&id=93636788&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"93636788\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isLink)?_c('a',{key:_vm.action.uri,staticClass:\"action-button button\",style:({\n    background: _vm.widgetColor,\n    borderColor: _vm.widgetColor,\n    color: _vm.textColor,\n  }),attrs:{\"href\":_vm.action.uri,\"target\":\"_blank\",\"rel\":\"noopener nofollow noreferrer\"}},[_vm._v(\"\\n  \"+_vm._s(_vm.action.text)+\"\\n\")]):_c('button',{key:_vm.action.payload,staticClass:\"action-button button\",style:({ borderColor: _vm.widgetColor, color: _vm.widgetColor }),on:{\"click\":_vm.onClick}},[_vm._v(\"\\n  \"+_vm._s(_vm.action.text)+\"\\n\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./ChatCard.vue?vue&type=template&id=3586be8d&scoped=true&\"\nimport script from \"./ChatCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatCard.vue?vue&type=style&index=0&id=3586be8d&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3586be8d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"card-message chat-bubble agent\",class:_vm.getThemeClass('bg-white', 'dark:bg-slate-700')},[_c('img',{staticClass:\"media\",attrs:{\"src\":_vm.mediaUrl}}),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('h4',{staticClass:\"title\",class:_vm.getThemeClass('text-black-900', 'dark:text-slate-50')},[_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")]),_vm._v(\" \"),_c('p',{staticClass:\"body\",class:_vm.getThemeClass('text-black-700', 'dark:text-slate-100')},[_vm._v(\"\\n      \"+_vm._s(_vm.description)+\"\\n    \")]),_vm._v(\" \"),_vm._l((_vm.actions),function(action){return _c('CardButton',{key:action.id,attrs:{\"action\":action}})})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { getContrastingTextColor } from '@chatwoot/utils';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\n\nexport default {\n  props: {\n    buttonLabel: {\n      type: String,\n      default: '',\n    },\n    items: {\n      type: Array,\n      default: () => [],\n    },\n    submittedValues: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  setup() {\n    const { getThemeClass } = useDarkMode();\n    return { getThemeClass };\n  },\n  data() {\n    return {\n      formValues: {},\n      hasSubmitted: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      widgetColor: 'appConfig/getWidgetColor',\n    }),\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    inputColor() {\n      return `${this.getThemeClass('bg-white', 'dark:bg-slate-600')}\n        ${this.getThemeClass('text-black-900', 'dark:text-slate-50')}`;\n    },\n    isFormValid() {\n      return this.items.reduce((acc, { name }) => {\n        return !!this.formValues[name] && acc;\n      }, true);\n    },\n  },\n  mounted() {\n    if (this.submittedValues.length) {\n      this.updateFormValues();\n    } else {\n      this.setFormDefaults();\n    }\n  },\n  methods: {\n    onSubmitClick() {\n      this.hasSubmitted = true;\n    },\n    onSubmit() {\n      if (!this.isFormValid) {\n        return;\n      }\n      this.$emit('submit', this.formValues);\n    },\n    buildFormObject(formObjectArray) {\n      return formObjectArray.reduce((acc, obj) => {\n        return {\n          ...acc,\n          [obj.name]: obj.value || obj.default,\n        };\n      }, {});\n    },\n    updateFormValues() {\n      this.formValues = this.buildFormObject(this.submittedValues);\n    },\n    setFormDefaults() {\n      this.formValues = this.buildFormObject(this.items);\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"form chat-bubble agent\"\n    :class=\"getThemeClass('bg-white', 'dark:bg-slate-700')\"\n  >\n    <form @submit.prevent=\"onSubmit\">\n      <div\n        v-for=\"item in items\"\n        :key=\"item.key\"\n        class=\"form-block\"\n        :class=\"{\n          'has-submitted': hasSubmitted,\n        }\"\n      >\n        <label :class=\"getThemeClass('text-black-900', 'dark:text-slate-50')\">{{\n          item.label\n        }}</label>\n        <input\n          v-if=\"item.type === 'email'\"\n          v-model=\"formValues[item.name]\"\n          :class=\"inputColor\"\n          :type=\"item.type\"\n          :pattern=\"item.regex\"\n          :title=\"item.title\"\n          :required=\"item.required && 'required'\"\n          :name=\"item.name\"\n          :placeholder=\"item.placeholder\"\n          :disabled=\"!!submittedValues.length\"\n        />\n        <input\n          v-else-if=\"item.type === 'text'\"\n          v-model=\"formValues[item.name]\"\n          :class=\"inputColor\"\n          :required=\"item.required && 'required'\"\n          :pattern=\"item.pattern\"\n          :title=\"item.title\"\n          :type=\"item.type\"\n          :name=\"item.name\"\n          :placeholder=\"item.placeholder\"\n          :disabled=\"!!submittedValues.length\"\n        />\n        <textarea\n          v-else-if=\"item.type === 'text_area'\"\n          v-model=\"formValues[item.name]\"\n          :class=\"inputColor\"\n          :required=\"item.required && 'required'\"\n          :title=\"item.title\"\n          :name=\"item.name\"\n          :placeholder=\"item.placeholder\"\n          :disabled=\"!!submittedValues.length\"\n        />\n        <select\n          v-else-if=\"item.type === 'select'\"\n          v-model=\"formValues[item.name]\"\n          :class=\"inputColor\"\n          :required=\"item.required && 'required'\"\n        >\n          <option\n            v-for=\"option in item.options\"\n            :key=\"option.key\"\n            :value=\"option.value\"\n          >\n            {{ option.label }}\n          </option>\n        </select>\n        <span class=\"error-message\">\n          {{ item.pattern_error || $t('CHAT_FORM.INVALID.FIELD') }}\n        </span>\n      </div>\n      <button\n        v-if=\"!submittedValues.length\"\n        class=\"button block\"\n        type=\"submit\"\n        :style=\"{\n          background: widgetColor,\n          borderColor: widgetColor,\n          color: textColor,\n        }\"\n        @click=\"onSubmitClick\"\n      >\n        {{ buttonLabel || $t('COMPONENTS.FORM_BUBBLE.SUBMIT') }}\n      </button>\n    </form>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n@import '~widget/assets/scss/variables.scss';\n\n.form {\n  padding: $space-normal;\n  width: 80%;\n\n  .form-block {\n    width: 90%;\n    padding-bottom: $space-small;\n  }\n\n  label {\n    display: block;\n    font-weight: $font-weight-medium;\n    padding: $space-smaller 0;\n    text-transform: capitalize;\n  }\n\n  input,\n  textarea {\n    border-radius: $space-smaller;\n    border: 1px solid $color-border;\n    display: block;\n    font-family: inherit;\n    font-size: $font-size-default;\n    line-height: 1.5;\n    padding: $space-one;\n    width: 100%;\n\n    &:disabled {\n      background: $color-background-light;\n    }\n  }\n\n  textarea {\n    resize: none;\n  }\n\n  select {\n    width: 110%;\n    padding: $space-smaller;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    appearance: none;\n    border: 1px solid $color-border;\n    border-radius: $space-smaller;\n    font-family: inherit;\n    font-size: $space-normal;\n    font-weight: normal;\n    line-height: 1.5;\n    background-image: url(\"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' version='1.1' width='32' height='24' viewBox='0 0 32 24'><polygon points='0,0 32,0 16,24' style='fill: rgb%28110, 111, 115%29'></polygon></svg>\");\n    background-origin: content-box;\n    background-position: right -1.6rem center;\n    background-repeat: no-repeat;\n    background-size: 9px 6px;\n    padding-right: 2.4rem;\n  }\n\n  .button {\n    font-size: $font-size-default;\n  }\n\n  .error-message {\n    display: none;\n    margin-top: $space-smaller;\n    color: $color-error;\n  }\n\n  .has-submitted {\n    input:invalid {\n      border: 1px solid $color-error;\n    }\n\n    input:invalid + .error-message {\n      display: block;\n    }\n\n    textarea:invalid {\n      border: 1px solid $color-error;\n    }\n\n    textarea:invalid + .error-message {\n      display: block;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChatForm.vue?vue&type=template&id=39980dff&scoped=true&\"\nimport script from \"./ChatForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatForm.vue?vue&type=style&index=0&id=39980dff&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"39980dff\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"form chat-bubble agent\",class:_vm.getThemeClass('bg-white', 'dark:bg-slate-700')},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_vm._l((_vm.items),function(item){return _c('div',{key:item.key,staticClass:\"form-block\",class:{\n        'has-submitted': _vm.hasSubmitted,\n      }},[_c('label',{class:_vm.getThemeClass('text-black-900', 'dark:text-slate-50')},[_vm._v(_vm._s(item.label))]),_vm._v(\" \"),((item.type)==='checkbox'&&(item.type === 'email'))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formValues[item.name]),expression:\"formValues[item.name]\"}],class:_vm.inputColor,attrs:{\"pattern\":item.regex,\"title\":item.title,\"required\":item.required && 'required',\"name\":item.name,\"placeholder\":item.placeholder,\"disabled\":!!_vm.submittedValues.length,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.formValues[item.name])?_vm._i(_vm.formValues[item.name],null)>-1:(_vm.formValues[item.name])},on:{\"change\":function($event){var $$a=_vm.formValues[item.name],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.formValues, item.name, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.formValues, item.name, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.formValues, item.name, $$c)}}}}):((item.type)==='radio'&&(item.type === 'email'))?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formValues[item.name]),expression:\"formValues[item.name]\"}],class:_vm.inputColor,attrs:{\"pattern\":item.regex,\"title\":item.title,\"required\":item.required && 'required',\"name\":item.name,\"placeholder\":item.placeholder,\"disabled\":!!_vm.submittedValues.length,\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.formValues[item.name],null)},on:{\"change\":function($event){return _vm.$set(_vm.formValues, item.name, null)}}}):(item.type === 'email')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formValues[item.name]),expression:\"formValues[item.name]\"}],class:_vm.inputColor,attrs:{\"pattern\":item.regex,\"title\":item.title,\"required\":item.required && 'required',\"name\":item.name,\"placeholder\":item.placeholder,\"disabled\":!!_vm.submittedValues.length,\"type\":item.type},domProps:{\"value\":(_vm.formValues[item.name])},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.formValues, item.name, $event.target.value)}}}):(item.type === 'text')?((item.type)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formValues[item.name]),expression:\"formValues[item.name]\"}],class:_vm.inputColor,attrs:{\"required\":item.required && 'required',\"pattern\":item.pattern,\"title\":item.title,\"name\":item.name,\"placeholder\":item.placeholder,\"disabled\":!!_vm.submittedValues.length,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.formValues[item.name])?_vm._i(_vm.formValues[item.name],null)>-1:(_vm.formValues[item.name])},on:{\"change\":function($event){var $$a=_vm.formValues[item.name],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.formValues, item.name, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.formValues, item.name, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.formValues, item.name, $$c)}}}}):((item.type)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formValues[item.name]),expression:\"formValues[item.name]\"}],class:_vm.inputColor,attrs:{\"required\":item.required && 'required',\"pattern\":item.pattern,\"title\":item.title,\"name\":item.name,\"placeholder\":item.placeholder,\"disabled\":!!_vm.submittedValues.length,\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.formValues[item.name],null)},on:{\"change\":function($event){return _vm.$set(_vm.formValues, item.name, null)}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formValues[item.name]),expression:\"formValues[item.name]\"}],class:_vm.inputColor,attrs:{\"required\":item.required && 'required',\"pattern\":item.pattern,\"title\":item.title,\"name\":item.name,\"placeholder\":item.placeholder,\"disabled\":!!_vm.submittedValues.length,\"type\":item.type},domProps:{\"value\":(_vm.formValues[item.name])},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.formValues, item.name, $event.target.value)}}}):(item.type === 'text_area')?_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formValues[item.name]),expression:\"formValues[item.name]\"}],class:_vm.inputColor,attrs:{\"required\":item.required && 'required',\"title\":item.title,\"name\":item.name,\"placeholder\":item.placeholder,\"disabled\":!!_vm.submittedValues.length},domProps:{\"value\":(_vm.formValues[item.name])},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.formValues, item.name, $event.target.value)}}}):(item.type === 'select')?_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formValues[item.name]),expression:\"formValues[item.name]\"}],class:_vm.inputColor,attrs:{\"required\":item.required && 'required'},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.formValues, item.name, $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((item.options),function(option){return _c('option',{key:option.key,domProps:{\"value\":option.value}},[_vm._v(\"\\n          \"+_vm._s(option.label)+\"\\n        \")])}),0):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"error-message\"},[_vm._v(\"\\n        \"+_vm._s(item.pattern_error || _vm.$t('CHAT_FORM.INVALID.FIELD'))+\"\\n      \")])])}),_vm._v(\" \"),(!_vm.submittedValues.length)?_c('button',{staticClass:\"button block\",style:({\n        background: _vm.widgetColor,\n        borderColor: _vm.widgetColor,\n        color: _vm.textColor,\n      }),attrs:{\"type\":\"submit\"},on:{\"click\":_vm.onSubmitClick}},[_vm._v(\"\\n      \"+_vm._s(_vm.buttonLabel || _vm.$t('COMPONENTS.FORM_BUBBLE.SUBMIT'))+\"\\n    \")]):_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  components: {},\n  props: {\n    action: {\n      type: Object,\n      default: () => {},\n    },\n    isSelected: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    ...mapGetters({\n      widgetColor: 'appConfig/getWidgetColor',\n    }),\n  },\n  methods: {\n    onClick() {\n      this.$emit('click', this.action);\n    },\n  },\n};\n</script>\n\n<template>\n  <li\n    class=\"option\"\n    :class=\"{ 'is-selected': isSelected }\"\n    :style=\"{ borderColor: widgetColor }\"\n  >\n    <button class=\"option-button button\" @click=\"onClick\">\n      <span :style=\"{ color: widgetColor }\">{{ action.title }}</span>\n    </button>\n  </li>\n</template>\n\n<style scoped lang=\"scss\">\n@import '~widget/assets/scss/variables.scss';\n\n.option {\n  border-radius: $space-jumbo;\n  border: 1px solid $color-woot;\n  float: left;\n  margin: $space-smaller;\n  max-width: 100%;\n\n  .option-button {\n    background: transparent;\n    border-radius: $space-large;\n    border: 0;\n    cursor: pointer;\n    height: auto;\n    line-height: 1.5;\n    min-height: $space-two * 2;\n    text-align: left;\n    white-space: normal;\n\n    span {\n      display: inline-block;\n      vertical-align: middle;\n    }\n\n    > .icon {\n      margin-right: $space-smaller;\n      font-size: $font-size-medium;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatOption.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatOption.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatOptions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatOptions.vue?vue&type=script&lang=js&\"","<script>\nimport ChatOption from 'shared/components/ChatOption.vue';\nimport { useMessageFormatter } from 'shared/composables/useMessageFormatter';\n\nexport default {\n  components: {\n    ChatOption,\n  },\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    options: {\n      type: Array,\n      default: () => [],\n    },\n    selected: {\n      type: String,\n      default: '',\n    },\n    hideFields: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup() {\n    const { formatMessage } = useMessageFormatter();\n    return {\n      formatMessage,\n    };\n  },\n  methods: {\n    isSelected(option) {\n      return this.selected === option.id;\n    },\n    onClick(selectedOption) {\n      this.$emit('click', selectedOption);\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"options-message chat-bubble agent bg-white dark:bg-slate-700\">\n    <div class=\"card-body\">\n      <h4 class=\"title text-black-900 dark:text-slate-50\">\n        <div\n          v-dompurify-html=\"formatMessage(title, false)\"\n          class=\"message-content text-black-900 dark:text-slate-50\"\n        />\n      </h4>\n      <ul\n        v-if=\"!hideFields\"\n        class=\"options\"\n        :class=\"{ 'has-selected': !!selected }\"\n      >\n        <ChatOption\n          v-for=\"option in options\"\n          :key=\"option.id\"\n          :action=\"option\"\n          :is-selected=\"isSelected(option)\"\n          @click=\"onClick\"\n        />\n      </ul>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n@import '~dashboard/assets/scss/variables.scss';\n.has-selected {\n  .option-button:not(.is-selected) {\n    color: $color-light-gray;\n    cursor: initial;\n  }\n}\n</style>\n\n<style scoped lang=\"scss\">\n@import '~widget/assets/scss/variables.scss';\n\n.options-message {\n  max-width: 17rem;\n  padding: $space-small $space-normal;\n  border-radius: $space-small;\n  overflow: hidden;\n\n  .title {\n    font-size: $font-size-default;\n    font-weight: $font-weight-normal;\n    margin-top: $space-smaller;\n    margin-bottom: $space-smaller;\n    line-height: 1.5;\n  }\n\n  .options {\n    width: 100%;\n\n    > li {\n      list-style: none;\n      padding: 0;\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./ChatOption.vue?vue&type=template&id=6b141dbc&scoped=true&\"\nimport script from \"./ChatOption.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatOption.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatOption.vue?vue&type=style&index=0&id=6b141dbc&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b141dbc\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('li',{staticClass:\"option\",class:{ 'is-selected': _vm.isSelected },style:({ borderColor: _vm.widgetColor })},[_c('button',{staticClass:\"option-button button\",on:{\"click\":_vm.onClick}},[_c('span',{style:({ color: _vm.widgetColor })},[_vm._v(_vm._s(_vm.action.title))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./ChatOptions.vue?vue&type=template&id=683ae1de&scoped=true&\"\nimport script from \"./ChatOptions.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatOptions.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatOptions.vue?vue&type=style&index=0&id=683ae1de&prod&lang=scss&\"\nimport style1 from \"./ChatOptions.vue?vue&type=style&index=1&id=683ae1de&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"683ae1de\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"options-message chat-bubble agent bg-white dark:bg-slate-700\"},[_c('div',{staticClass:\"card-body\"},[_c('h4',{staticClass:\"title text-black-900 dark:text-slate-50\"},[_c('div',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.formatMessage(_vm.title, false)),expression:\"formatMessage(title, false)\"}],staticClass:\"message-content text-black-900 dark:text-slate-50\"})]),_vm._v(\" \"),(!_vm.hideFields)?_c('ul',{staticClass:\"options\",class:{ 'has-selected': !!_vm.selected }},_vm._l((_vm.options),function(option){return _c('ChatOption',{key:option.id,attrs:{\"action\":option,\"is-selected\":_vm.isSelected(option)},on:{\"click\":_vm.onClick}})}),1):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Article.vue?vue&type=script&lang=js&\"","<script>\nimport { useMessageFormatter } from 'shared/composables/useMessageFormatter';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\n\nexport default {\n  components: {\n    FluentIcon,\n  },\n  props: {\n    items: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  setup() {\n    const { truncateMessage } = useMessageFormatter();\n    const { getThemeClass } = useDarkMode();\n    return { getThemeClass, truncateMessage };\n  },\n};\n</script>\n\n<template>\n  <div\n    v-if=\"!!items.length\"\n    class=\"chat-bubble agent\"\n    :class=\"getThemeClass('bg-white', 'dark:bg-slate-700')\"\n  >\n    <div v-for=\"item in items\" :key=\"item.link\" class=\"article-item\">\n      <a :href=\"item.link\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">\n        <span class=\"title flex items-center text-black-900 font-medium\">\n          <FluentIcon\n            icon=\"link\"\n            class=\"mr-1\"\n            :class=\"getThemeClass('text-black-900', 'dark:text-slate-50')\"\n          />\n          <span\n            :class=\"getThemeClass('text-slate-900', 'dark:text-slate-50')\"\n            >{{ item.title }}</span\n          >\n        </span>\n        <span\n          class=\"description\"\n          :class=\"getThemeClass('text-slate-700', 'dark:text-slate-200')\"\n        >\n          {{ truncateMessage(item.description) }}\n        </span>\n      </a>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '~widget/assets/scss/variables.scss';\n\n.article-item {\n  border-bottom: 1px solid $color-border;\n  font-size: $font-size-default;\n  padding: $space-small 0;\n\n  a {\n    color: $color-body;\n    text-decoration: none;\n  }\n\n  .description {\n    display: block;\n    margin-top: $space-smaller;\n  }\n\n  &:last-child {\n    border-bottom: 0;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./Article.vue?vue&type=template&id=6748ece0&scoped=true&\"\nimport script from \"./Article.vue?vue&type=script&lang=js&\"\nexport * from \"./Article.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Article.vue?vue&type=style&index=0&id=6748ece0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6748ece0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (!!_vm.items.length)?_c('div',{staticClass:\"chat-bubble agent\",class:_vm.getThemeClass('bg-white', 'dark:bg-slate-700')},_vm._l((_vm.items),function(item){return _c('div',{key:item.link,staticClass:\"article-item\"},[_c('a',{attrs:{\"href\":item.link,\"target\":\"_blank\",\"rel\":\"noopener noreferrer nofollow\"}},[_c('span',{staticClass:\"title flex items-center text-black-900 font-medium\"},[_c('FluentIcon',{staticClass:\"mr-1\",class:_vm.getThemeClass('text-black-900', 'dark:text-slate-50'),attrs:{\"icon\":\"link\"}}),_vm._v(\" \"),_c('span',{class:_vm.getThemeClass('text-slate-900', 'dark:text-slate-50')},[_vm._v(_vm._s(item.title))])],1),_vm._v(\" \"),_c('span',{staticClass:\"description\",class:_vm.getThemeClass('text-slate-700', 'dark:text-slate-200')},[_vm._v(\"\\n        \"+_vm._s(_vm.truncateMessage(item.description))+\"\\n      \")])])])}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { useVuelidate } from '@vuelidate/core';\nimport { required, email } from '@vuelidate/validators';\nimport { getContrastingTextColor } from '@chatwoot/utils';\n\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport Spinner from 'shared/components/Spinner.vue';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\n\nexport default {\n  components: {\n    FluentIcon,\n    Spinner,\n  },\n  props: {\n    messageId: {\n      type: Number,\n      required: true,\n    },\n    messageContentAttributes: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  setup() {\n    const { getThemeClass } = useDarkMode();\n    return { v$: useVuelidate(), getThemeClass };\n  },\n  data() {\n    return {\n      email: '',\n      isUpdating: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      widgetColor: 'appConfig/getWidgetColor',\n    }),\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    hasSubmitted() {\n      return (\n        this.messageContentAttributes &&\n        this.messageContentAttributes.submitted_email\n      );\n    },\n    inputColor() {\n      return `${this.getThemeClass('bg-white', 'dark:bg-slate-600')}\n        ${this.getThemeClass('text-black-900', 'dark:text-slate-50')}\n        ${this.getThemeClass('border-black-200', 'dark:border-black-500')}`;\n    },\n    inputHasError() {\n      return this.v$.email.$error\n        ? `${this.inputColor} error`\n        : `${this.inputColor}`;\n    },\n  },\n  validations: {\n    email: {\n      required,\n      email,\n    },\n  },\n  methods: {\n    async onSubmit() {\n      if (this.v$.$invalid) {\n        return;\n      }\n      this.isUpdating = true;\n      try {\n        await this.$store.dispatch('message/update', {\n          email: this.email,\n          messageId: this.messageId,\n        });\n      } catch (error) {\n        // Ignore error\n      } finally {\n        this.isUpdating = false;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <form\n      v-if=\"!hasSubmitted\"\n      class=\"email-input-group\"\n      @submit.prevent=\"onSubmit\"\n    >\n      <input\n        v-model.trim=\"email\"\n        class=\"form-input\"\n        :placeholder=\"$t('EMAIL_PLACEHOLDER')\"\n        :class=\"inputHasError\"\n        @input=\"v$.email.$touch\"\n        @keydown.enter=\"onSubmit\"\n      />\n      <button\n        class=\"button small\"\n        :disabled=\"v$.email.$invalid\"\n        :style=\"{\n          background: widgetColor,\n          borderColor: widgetColor,\n          color: textColor,\n        }\"\n      >\n        <FluentIcon v-if=\"!isUpdating\" icon=\"chevron-right\" />\n        <Spinner v-else class=\"mx-2\" />\n      </button>\n    </form>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '~widget/assets/scss/variables.scss';\n\n.email-input-group {\n  display: flex;\n  margin: $space-small 0;\n  min-width: 200px;\n\n  input {\n    border-bottom-right-radius: 0;\n    border-top-right-radius: 0;\n    padding: $space-one;\n    width: 100%;\n\n    &::placeholder {\n      color: $color-light-gray;\n    }\n\n    &.error {\n      border-color: $color-error;\n    }\n  }\n\n  .button {\n    border-bottom-left-radius: 0;\n    border-top-left-radius: 0;\n    font-size: $font-size-large;\n    height: auto;\n    margin-left: -1px;\n\n    .spinner {\n      display: block;\n      padding: 0;\n      height: auto;\n      width: auto;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmailInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EmailInput.vue?vue&type=template&id=4ab346c0&scoped=true&\"\nimport script from \"./EmailInput.vue?vue&type=script&lang=js&\"\nexport * from \"./EmailInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EmailInput.vue?vue&type=style&index=0&id=4ab346c0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ab346c0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(!_vm.hasSubmitted)?_c('form',{staticClass:\"email-input-group\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.email),expression:\"email\",modifiers:{\"trim\":true}}],staticClass:\"form-input\",class:_vm.inputHasError,attrs:{\"placeholder\":_vm.$t('EMAIL_PLACEHOLDER')},domProps:{\"value\":(_vm.email)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.email=$event.target.value.trim()},_vm.v$.email.$touch],\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onSubmit.apply(null, arguments)},\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"),_c('button',{staticClass:\"button small\",style:({\n        background: _vm.widgetColor,\n        borderColor: _vm.widgetColor,\n        color: _vm.textColor,\n      }),attrs:{\"disabled\":_vm.v$.email.$invalid}},[(!_vm.isUpdating)?_c('FluentIcon',{attrs:{\"icon\":\"chevron-right\"}}):_c('Spinner',{staticClass:\"mx-2\"})],1)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport Spinner from 'shared/components/Spinner.vue';\nimport { CSAT_RATINGS } from 'shared/constants/messages';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\nimport { getContrastingTextColor } from '@chatwoot/utils';\n\nexport default {\n  components: {\n    Spinner,\n    FluentIcon,\n  },\n  props: {\n    messageContentAttributes: {\n      type: Object,\n      default: () => {},\n    },\n    messageId: {\n      type: Number,\n      required: true,\n    },\n  },\n  setup() {\n    const { getThemeClass } = useDarkMode();\n    return { getThemeClass };\n  },\n  data() {\n    return {\n      email: '',\n      ratings: CSAT_RATINGS,\n      selectedRating: null,\n      isUpdating: false,\n      feedback: '',\n    };\n  },\n  computed: {\n    ...mapGetters({ widgetColor: 'appConfig/getWidgetColor' }),\n    isRatingSubmitted() {\n      return this.messageContentAttributes?.csat_survey_response?.rating;\n    },\n    isFeedbackSubmitted() {\n      return this.messageContentAttributes?.csat_survey_response\n        ?.feedback_message;\n    },\n    isButtonDisabled() {\n      return !(this.selectedRating && this.feedback);\n    },\n    inputColor() {\n      return `${this.getThemeClass('bg-white', 'dark:bg-slate-600')}\n        ${this.getThemeClass('text-black-900', 'dark:text-slate-50')}`;\n    },\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    title() {\n      return this.isRatingSubmitted\n        ? this.$t('CSAT.SUBMITTED_TITLE')\n        : this.$t('CSAT.TITLE');\n    },\n  },\n\n  mounted() {\n    if (this.isRatingSubmitted) {\n      const {\n        csat_survey_response: { rating, feedback_message },\n      } = this.messageContentAttributes;\n      this.selectedRating = rating;\n      this.feedback = feedback_message;\n    }\n  },\n\n  methods: {\n    buttonClass(rating) {\n      return [\n        { selected: rating.value === this.selectedRating },\n        { disabled: this.isRatingSubmitted },\n        { hover: this.isRatingSubmitted },\n        'emoji-button',\n      ];\n    },\n    async onSubmit() {\n      this.isUpdating = true;\n      try {\n        await this.$store.dispatch('message/update', {\n          submittedValues: {\n            csat_survey_response: {\n              rating: this.selectedRating,\n              feedback_message: this.feedback,\n            },\n          },\n          messageId: this.messageId,\n        });\n      } catch (error) {\n        // Ignore error\n      } finally {\n        this.isUpdating = false;\n      }\n    },\n    selectRating(rating) {\n      this.selectedRating = rating.value;\n      this.onSubmit();\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"customer-satisfaction\"\n    :class=\"getThemeClass('bg-white', 'dark:bg-slate-700')\"\n    :style=\"{ borderColor: widgetColor }\"\n  >\n    <h6\n      class=\"title\"\n      :class=\"getThemeClass('text-slate-900', 'dark:text-slate-50')\"\n    >\n      {{ title }}\n    </h6>\n    <div class=\"ratings\">\n      <button\n        v-for=\"rating in ratings\"\n        :key=\"rating.key\"\n        :class=\"buttonClass(rating)\"\n        @click=\"selectRating(rating)\"\n      >\n        {{ rating.emoji }}\n      </button>\n    </div>\n    <form\n      v-if=\"!isFeedbackSubmitted\"\n      class=\"feedback-form\"\n      @submit.prevent=\"onSubmit()\"\n    >\n      <input\n        v-model=\"feedback\"\n        class=\"form-input\"\n        :class=\"inputColor\"\n        :placeholder=\"$t('CSAT.PLACEHOLDER')\"\n        @keydown.enter=\"onSubmit\"\n      />\n      <button\n        class=\"button small\"\n        :disabled=\"isButtonDisabled\"\n        :style=\"{\n          background: widgetColor,\n          borderColor: widgetColor,\n          color: textColor,\n        }\"\n      >\n        <Spinner v-if=\"isUpdating && feedback\" />\n        <FluentIcon v-else icon=\"chevron-right\" />\n      </button>\n    </form>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '~widget/assets/scss/variables.scss';\n@import '~widget/assets/scss/mixins.scss';\n\n.customer-satisfaction {\n  @include light-shadow;\n\n  border-bottom-left-radius: $space-smaller;\n  border-radius: $space-small;\n  border-top: $space-micro solid $color-woot;\n  color: $color-body;\n  display: inline-block;\n  line-height: 1.5;\n  margin-top: $space-smaller;\n  width: 80%;\n\n  .title {\n    font-size: $font-size-default;\n    font-weight: $font-weight-medium;\n    padding: $space-two $space-one 0;\n    text-align: center;\n  }\n\n  .ratings {\n    display: flex;\n    justify-content: space-around;\n    padding: $space-two $space-normal;\n\n    .emoji-button {\n      box-shadow: none;\n      filter: grayscale(100%);\n      font-size: $font-size-big;\n      outline: none;\n\n      &.selected,\n      &:hover,\n      &:focus,\n      &:active {\n        filter: grayscale(0%);\n        transform: scale(1.32);\n      }\n\n      &.disabled {\n        cursor: default;\n        opacity: 0.5;\n        pointer-events: none;\n      }\n    }\n  }\n  .feedback-form {\n    display: flex;\n\n    input {\n      border-bottom-right-radius: 0;\n      border-top-right-radius: 0;\n      border-bottom-left-radius: $space-small;\n      border: 0;\n      border-top: 1px solid $color-border;\n      padding: $space-one;\n      width: 100%;\n\n      &::placeholder {\n        color: $color-light-gray;\n      }\n    }\n\n    .button {\n      appearance: none;\n      border-bottom-left-radius: 0;\n      border-top-left-radius: 0;\n      border-bottom-right-radius: $space-small;\n      font-size: $font-size-large;\n      height: auto;\n      margin-left: -1px;\n\n      .spinner {\n        display: block;\n        padding: 0;\n        height: auto;\n        width: auto;\n      }\n    }\n  }\n}\n\n@media (prefers-color-scheme: dark) {\n  .customer-satisfaction .feedback-form input {\n    border-top: 1px solid var(--b-500);\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerSatisfaction.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomerSatisfaction.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CustomerSatisfaction.vue?vue&type=template&id=693c4bbf&scoped=true&\"\nimport script from \"./CustomerSatisfaction.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomerSatisfaction.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomerSatisfaction.vue?vue&type=style&index=0&id=693c4bbf&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"693c4bbf\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"customer-satisfaction\",class:_vm.getThemeClass('bg-white', 'dark:bg-slate-700'),style:({ borderColor: _vm.widgetColor })},[_c('h6',{staticClass:\"title\",class:_vm.getThemeClass('text-slate-900', 'dark:text-slate-50')},[_vm._v(\"\\n    \"+_vm._s(_vm.title)+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"ratings\"},_vm._l((_vm.ratings),function(rating){return _c('button',{key:rating.key,class:_vm.buttonClass(rating),on:{\"click\":function($event){return _vm.selectRating(rating)}}},[_vm._v(\"\\n      \"+_vm._s(rating.emoji)+\"\\n    \")])}),0),_vm._v(\" \"),(!_vm.isFeedbackSubmitted)?_c('form',{staticClass:\"feedback-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit()}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.feedback),expression:\"feedback\"}],staticClass:\"form-input\",class:_vm.inputColor,attrs:{\"placeholder\":_vm.$t('CSAT.PLACEHOLDER')},domProps:{\"value\":(_vm.feedback)},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onSubmit.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.feedback=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"button small\",style:({\n        background: _vm.widgetColor,\n        borderColor: _vm.widgetColor,\n        color: _vm.textColor,\n      }),attrs:{\"disabled\":_vm.isButtonDisabled}},[(_vm.isUpdating && _vm.feedback)?_c('Spinner'):_c('FluentIcon',{attrs:{\"icon\":\"chevron-right\"}})],1)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { API } from 'widget/helpers/axios';\nimport { buildSearchParamsWithLocale } from '../helpers/urlParamsHelper';\n\nexport default {\n  addParticipantToDyteMeeting: messageId => {\n    const search = buildSearchParamsWithLocale(window.location.search);\n    const urlData = {\n      url: `/api/v1/widget/integrations/dyte/add_participant_to_meeting${search}`,\n    };\n    return API.post(urlData.url, { message_id: messageId });\n  },\n};\n","<script>\nimport IntegrationAPIClient from 'widget/api/integration';\nimport FluentIcon from 'shared/components/FluentIcon/Index.vue';\nimport { buildDyteURL } from 'shared/helpers/IntegrationHelper';\nimport { getContrastingTextColor } from '@chatwoot/utils';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  components: {\n    FluentIcon,\n  },\n  props: {\n    messageId: {\n      type: Number,\n      required: true,\n    },\n    meetingData: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  data() {\n    return { isLoading: false, dyteAuthToken: '', isSDKMounted: false };\n  },\n  computed: {\n    ...mapGetters({ widgetColor: 'appConfig/getWidgetColor' }),\n    textColor() {\n      return getContrastingTextColor(this.widgetColor);\n    },\n    meetingLink() {\n      return buildDyteURL(this.meetingData.room_name, this.dyteAuthToken);\n    },\n  },\n  methods: {\n    async joinTheCall() {\n      this.isLoading = true;\n      try {\n        const { data: { authResponse: { authToken = '' } = {} } = {} } =\n          await IntegrationAPIClient.addParticipantToDyteMeeting(\n            this.messageId\n          );\n        this.dyteAuthToken = authToken;\n      } catch (error) {\n        // Ignore Error for now\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    leaveTheRoom() {\n      this.dyteAuthToken = '';\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <button\n      class=\"button join-call-button\"\n      color-scheme=\"secondary\"\n      :is-loading=\"isLoading\"\n      :style=\"{\n        background: widgetColor,\n        borderColor: widgetColor,\n        color: textColor,\n      }\"\n      @click=\"joinTheCall\"\n    >\n      <FluentIcon icon=\"video-add\" class=\"mr-2\" />\n      {{ $t('INTEGRATIONS.DYTE.CLICK_HERE_TO_JOIN') }}\n    </button>\n    <div v-if=\"dyteAuthToken\" class=\"video-call--container\">\n      <iframe\n        :src=\"meetingLink\"\n        allow=\"camera;microphone;fullscreen;display-capture;picture-in-picture;clipboard-write;\"\n      />\n      <button\n        class=\"button small join-call-button leave-room-button\"\n        @click=\"leaveTheRoom\"\n      >\n        {{ $t('INTEGRATIONS.DYTE.LEAVE_THE_ROOM') }}\n      </button>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '~widget/assets/scss/variables.scss';\n\n.video-call--container {\n  position: fixed;\n  top: 72px;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  z-index: 100;\n\n  iframe {\n    width: 100%;\n    height: calc(100% - 72px);\n\n    border: 0;\n  }\n}\n\n.join-call-button {\n  margin: $space-small 0;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n}\n\n.leave-room-button {\n  position: absolute;\n  top: 0;\n  right: $space-small;\n}\n</style>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntegrationCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IntegrationCard.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentMessageBubble.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentMessageBubble.vue?vue&type=script&lang=js&\"","<script>\nimport { useMessageFormatter } from 'shared/composables/useMessageFormatter';\nimport ChatCard from 'shared/components/ChatCard.vue';\nimport ChatForm from 'shared/components/ChatForm.vue';\nimport ChatOptions from 'shared/components/ChatOptions.vue';\nimport ChatArticle from './template/Article.vue';\nimport EmailInput from './template/EmailInput.vue';\nimport CustomerSatisfaction from 'shared/components/CustomerSatisfaction.vue';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\nimport IntegrationCard from './template/IntegrationCard.vue';\n\nexport default {\n  name: 'AgentMessageBubble',\n  components: {\n    ChatArticle,\n    ChatCard,\n    ChatForm,\n    ChatOptions,\n    EmailInput,\n    CustomerSatisfaction,\n    IntegrationCard,\n  },\n  props: {\n    message: { type: String, default: null },\n    contentType: { type: String, default: null },\n    messageType: { type: Number, default: null },\n    messageId: { type: Number, default: null },\n    messageContentAttributes: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  setup() {\n    const { formatMessage, getPlainText, truncateMessage, highlightContent } =\n      useMessageFormatter();\n    const { getThemeClass } = useDarkMode();\n    return {\n      formatMessage,\n      getPlainText,\n      truncateMessage,\n      highlightContent,\n      getThemeClass,\n    };\n  },\n  computed: {\n    isTemplate() {\n      return this.messageType === 3;\n    },\n    isTemplateEmail() {\n      return this.contentType === 'input_email';\n    },\n    isCards() {\n      return this.contentType === 'cards';\n    },\n    isOptions() {\n      return this.contentType === 'input_select';\n    },\n    isForm() {\n      return this.contentType === 'form';\n    },\n    isArticle() {\n      return this.contentType === 'article';\n    },\n    isCSAT() {\n      return this.contentType === 'input_csat';\n    },\n    isIntegrations() {\n      return this.contentType === 'integrations';\n    },\n  },\n  methods: {\n    onResponse(messageResponse) {\n      this.$store.dispatch('message/update', messageResponse);\n    },\n    onOptionSelect(selectedOption) {\n      this.onResponse({\n        submittedValues: [selectedOption],\n        messageId: this.messageId,\n      });\n    },\n    onFormSubmit(formValues) {\n      const formValuesAsArray = Object.keys(formValues).map(key => ({\n        name: key,\n        value: formValues[key],\n      }));\n      this.onResponse({\n        submittedValues: formValuesAsArray,\n        messageId: this.messageId,\n      });\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"chat-bubble-wrap\">\n    <div\n      v-if=\"\n        !isCards && !isOptions && !isForm && !isArticle && !isCards && !isCSAT\n      \"\n      class=\"chat-bubble agent\"\n      :class=\"getThemeClass('bg-white', 'dark:bg-slate-700 has-dark-mode')\"\n    >\n      <div\n        v-dompurify-html=\"formatMessage(message, false)\"\n        class=\"message-content text-slate-900 dark:text-slate-50\"\n      />\n      <EmailInput\n        v-if=\"isTemplateEmail\"\n        :message-id=\"messageId\"\n        :message-content-attributes=\"messageContentAttributes\"\n      />\n\n      <IntegrationCard\n        v-if=\"isIntegrations\"\n        :message-id=\"messageId\"\n        :meeting-data=\"messageContentAttributes.data\"\n      />\n    </div>\n    <div v-if=\"isOptions\">\n      <ChatOptions\n        :title=\"message\"\n        :options=\"messageContentAttributes.items\"\n        :hide-fields=\"!!messageContentAttributes.submitted_values\"\n        @click=\"onOptionSelect\"\n      />\n    </div>\n    <ChatForm\n      v-if=\"isForm && !messageContentAttributes.submitted_values\"\n      :items=\"messageContentAttributes.items\"\n      :button-label=\"messageContentAttributes.button_label\"\n      :submitted-values=\"messageContentAttributes.submitted_values\"\n      @submit=\"onFormSubmit\"\n    />\n    <div v-if=\"isCards\">\n      <ChatCard\n        v-for=\"item in messageContentAttributes.items\"\n        :key=\"item.title\"\n        :media-url=\"item.media_url\"\n        :title=\"item.title\"\n        :description=\"item.description\"\n        :actions=\"item.actions\"\n      />\n    </div>\n    <div v-if=\"isArticle\">\n      <ChatArticle :items=\"messageContentAttributes.items\" />\n    </div>\n    <CustomerSatisfaction\n      v-if=\"isCSAT\"\n      :message-content-attributes=\"messageContentAttributes.submitted_values\"\n      :message-id=\"messageId\"\n    />\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./IntegrationCard.vue?vue&type=template&id=6b9cd794&scoped=true&\"\nimport script from \"./IntegrationCard.vue?vue&type=script&lang=js&\"\nexport * from \"./IntegrationCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IntegrationCard.vue?vue&type=style&index=0&id=6b9cd794&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b9cd794\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('button',{staticClass:\"button join-call-button\",style:({\n      background: _vm.widgetColor,\n      borderColor: _vm.widgetColor,\n      color: _vm.textColor,\n    }),attrs:{\"color-scheme\":\"secondary\",\"is-loading\":_vm.isLoading},on:{\"click\":_vm.joinTheCall}},[_c('FluentIcon',{staticClass:\"mr-2\",attrs:{\"icon\":\"video-add\"}}),_vm._v(\"\\n    \"+_vm._s(_vm.$t('INTEGRATIONS.DYTE.CLICK_HERE_TO_JOIN'))+\"\\n  \")],1),_vm._v(\" \"),(_vm.dyteAuthToken)?_c('div',{staticClass:\"video-call--container\"},[_c('iframe',{attrs:{\"src\":_vm.meetingLink,\"allow\":\"camera;microphone;fullscreen;display-capture;picture-in-picture;clipboard-write;\"}}),_vm._v(\" \"),_c('button',{staticClass:\"button small join-call-button leave-room-button\",on:{\"click\":_vm.leaveTheRoom}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('INTEGRATIONS.DYTE.LEAVE_THE_ROOM'))+\"\\n    \")])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./AgentMessageBubble.vue?vue&type=template&id=9b1b6946&\"\nimport script from \"./AgentMessageBubble.vue?vue&type=script&lang=js&\"\nexport * from \"./AgentMessageBubble.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"chat-bubble-wrap\"},[(\n      !_vm.isCards && !_vm.isOptions && !_vm.isForm && !_vm.isArticle && !_vm.isCards && !_vm.isCSAT\n    )?_c('div',{staticClass:\"chat-bubble agent\",class:_vm.getThemeClass('bg-white', 'dark:bg-slate-700 has-dark-mode')},[_c('div',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.formatMessage(_vm.message, false)),expression:\"formatMessage(message, false)\"}],staticClass:\"message-content text-slate-900 dark:text-slate-50\"}),_vm._v(\" \"),(_vm.isTemplateEmail)?_c('EmailInput',{attrs:{\"message-id\":_vm.messageId,\"message-content-attributes\":_vm.messageContentAttributes}}):_vm._e(),_vm._v(\" \"),(_vm.isIntegrations)?_c('IntegrationCard',{attrs:{\"message-id\":_vm.messageId,\"meeting-data\":_vm.messageContentAttributes.data}}):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.isOptions)?_c('div',[_c('ChatOptions',{attrs:{\"title\":_vm.message,\"options\":_vm.messageContentAttributes.items,\"hide-fields\":!!_vm.messageContentAttributes.submitted_values},on:{\"click\":_vm.onOptionSelect}})],1):_vm._e(),_vm._v(\" \"),(_vm.isForm && !_vm.messageContentAttributes.submitted_values)?_c('ChatForm',{attrs:{\"items\":_vm.messageContentAttributes.items,\"button-label\":_vm.messageContentAttributes.button_label,\"submitted-values\":_vm.messageContentAttributes.submitted_values},on:{\"submit\":_vm.onFormSubmit}}):_vm._e(),_vm._v(\" \"),(_vm.isCards)?_c('div',_vm._l((_vm.messageContentAttributes.items),function(item){return _c('ChatCard',{key:item.title,attrs:{\"media-url\":item.media_url,\"title\":item.title,\"description\":item.description,\"actions\":item.actions}})}),1):_vm._e(),_vm._v(\" \"),(_vm.isArticle)?_c('div',[_c('ChatArticle',{attrs:{\"items\":_vm.messageContentAttributes.items}})],1):_vm._e(),_vm._v(\" \"),(_vm.isCSAT)?_c('CustomerSatisfaction',{attrs:{\"message-content-attributes\":_vm.messageContentAttributes.submitted_values,\"message-id\":_vm.messageId}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport UserMessage from 'widget/components/UserMessage.vue';\nimport AgentMessageBubble from 'widget/components/AgentMessageBubble.vue';\nimport MessageReplyButton from 'widget/components/MessageReplyButton.vue';\nimport { messageStamp } from 'shared/helpers/timeHelper';\nimport ImageBubble from 'widget/components/ImageBubble.vue';\nimport VideoBubble from 'widget/components/VideoBubble.vue';\nimport FileBubble from 'widget/components/FileBubble.vue';\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport { MESSAGE_TYPE } from 'widget/helpers/constants';\nimport configMixin from '../mixins/configMixin';\nimport messageMixin from '../mixins/messageMixin';\nimport { isASubmittedFormMessage } from 'shared/helpers/MessageTypeHelper';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\nimport ReplyToChip from 'widget/components/ReplyToChip.vue';\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\nimport { emitter } from 'shared/helpers/mitt';\n\nexport default {\n  name: 'AgentMessage',\n  components: {\n    AgentMessageBubble,\n    ImageBubble,\n    VideoBubble,\n    Thumbnail,\n    UserMessage,\n    FileBubble,\n    MessageReplyButton,\n    ReplyToChip,\n  },\n  mixins: [configMixin, messageMixin],\n  props: {\n    message: {\n      type: Object,\n      default: () => {},\n    },\n    replyTo: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  setup() {\n    const { getThemeClass } = useDarkMode();\n    return {\n      getThemeClass,\n    };\n  },\n  data() {\n    return {\n      hasImageError: false,\n      hasVideoError: false,\n    };\n  },\n  computed: {\n    shouldDisplayAgentMessage() {\n      if (\n        this.contentType === 'input_select' &&\n        this.messageContentAttributes.submitted_values &&\n        !this.message.content\n      ) {\n        return false;\n      }\n      return this.message.content;\n    },\n    readableTime() {\n      const { created_at: createdAt = '' } = this.message;\n      return messageStamp(createdAt, 'LLL d yyyy, h:mm a');\n    },\n    messageType() {\n      const { message_type: type = 1 } = this.message;\n      return type;\n    },\n    contentType() {\n      const { content_type: type = '' } = this.message;\n      return type;\n    },\n    agentName() {\n      if (this.message.sender) {\n        return this.message.sender.available_name || this.message.sender.name;\n      }\n\n      if (this.useInboxAvatarForBot) {\n        return this.channelConfig.websiteName;\n      }\n\n      return this.$t('UNREAD_VIEW.BOT');\n    },\n    avatarUrl() {\n      // eslint-disable-next-line\n      const BotImage = require('dashboard/assets/images/chatwoot_bot.png');\n      const displayImage = this.useInboxAvatarForBot\n        ? this.inboxAvatarUrl\n        : BotImage;\n\n      if (this.message.message_type === MESSAGE_TYPE.TEMPLATE) {\n        return displayImage;\n      }\n\n      return this.message.sender\n        ? this.message.sender.avatar_url\n        : displayImage;\n    },\n    hasRecordedResponse() {\n      return (\n        this.messageContentAttributes.submitted_email ||\n        (this.messageContentAttributes.submitted_values &&\n          !['form', 'input_csat'].includes(this.contentType))\n      );\n    },\n    responseMessage() {\n      if (this.messageContentAttributes.submitted_email) {\n        return { content: this.messageContentAttributes.submitted_email };\n      }\n\n      if (this.messageContentAttributes.submitted_values) {\n        if (this.contentType === 'input_select') {\n          const [selectionOption = {}] =\n            this.messageContentAttributes.submitted_values;\n          return { content: selectionOption.title || selectionOption.value };\n        }\n      }\n      return '';\n    },\n    isASubmittedForm() {\n      return isASubmittedFormMessage(this.message);\n    },\n    submittedFormValues() {\n      return this.messageContentAttributes.submitted_values.map(\n        submittedValue => ({\n          id: submittedValue.name,\n          content: submittedValue.value,\n        })\n      );\n    },\n    wrapClass() {\n      return {\n        'has-text': this.shouldDisplayAgentMessage,\n      };\n    },\n    hasReplyTo() {\n      return this.replyTo && (this.replyTo.content || this.replyTo.attachments);\n    },\n  },\n  watch: {\n    message() {\n      this.hasImageError = false;\n      this.hasVideoError = false;\n    },\n  },\n  mounted() {\n    this.hasImageError = false;\n    this.hasVideoError = false;\n  },\n  methods: {\n    onImageLoadError() {\n      this.hasImageError = true;\n    },\n    onVideoLoadError() {\n      this.hasVideoError = true;\n    },\n    toggleReply() {\n      emitter.emit(BUS_EVENTS.TOGGLE_REPLY_TO_MESSAGE, this.message);\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"agent-message-wrap group\"\n    :class=\"{\n      'has-response': hasRecordedResponse || isASubmittedForm,\n    }\"\n  >\n    <div v-if=\"!isASubmittedForm\" class=\"agent-message\">\n      <div class=\"avatar-wrap\">\n        <Thumbnail\n          v-if=\"message.showAvatar || hasRecordedResponse\"\n          :src=\"avatarUrl\"\n          size=\"24px\"\n          :username=\"agentName\"\n        />\n      </div>\n      <div class=\"message-wrap\">\n        <div v-if=\"hasReplyTo\" class=\"flex mt-2 mb-1 text-xs\">\n          <ReplyToChip :reply-to=\"replyTo\" />\n        </div>\n        <div class=\"flex gap-1\">\n          <div class=\"space-y-2\">\n            <AgentMessageBubble\n              v-if=\"shouldDisplayAgentMessage\"\n              :content-type=\"contentType\"\n              :message-content-attributes=\"messageContentAttributes\"\n              :message-id=\"message.id\"\n              :message-type=\"messageType\"\n              :message=\"message.content\"\n            />\n            <div\n              v-if=\"hasAttachments\"\n              class=\"space-y-2 chat-bubble has-attachment agent\"\n              :class=\"\n                (wrapClass, getThemeClass('bg-white', 'dark:bg-slate-700'))\n              \"\n            >\n              <div\n                v-for=\"attachment in message.attachments\"\n                :key=\"attachment.id\"\n              >\n                <ImageBubble\n                  v-if=\"attachment.file_type === 'image' && !hasImageError\"\n                  :url=\"attachment.data_url\"\n                  :thumb=\"attachment.data_url\"\n                  :readable-time=\"readableTime\"\n                  @error=\"onImageLoadError\"\n                />\n\n                <VideoBubble\n                  v-if=\"attachment.file_type === 'video' && !hasVideoError\"\n                  :url=\"attachment.data_url\"\n                  :readable-time=\"readableTime\"\n                  @error=\"onVideoLoadError\"\n                />\n\n                <audio v-else-if=\"attachment.file_type === 'audio'\" controls>\n                  <source :src=\"attachment.data_url\" />\n                </audio>\n                <FileBubble v-else :url=\"attachment.data_url\" />\n              </div>\n            </div>\n          </div>\n          <div class=\"flex flex-col justify-end\">\n            <MessageReplyButton\n              class=\"transition-opacity delay-75 opacity-0 group-hover:opacity-100 sm:opacity-0\"\n              @click=\"toggleReply\"\n            />\n          </div>\n        </div>\n        <p\n          v-if=\"message.showAvatar || hasRecordedResponse\"\n          v-dompurify-html=\"agentName\"\n          class=\"agent-name\"\n          :class=\"getThemeClass('text-slate-700', 'dark:text-slate-200')\"\n        />\n      </div>\n    </div>\n\n    <UserMessage v-if=\"hasRecordedResponse\" :message=\"responseMessage\" />\n    <div v-if=\"isASubmittedForm\">\n      <UserMessage\n        v-for=\"submittedValue in submittedFormValues\"\n        :key=\"submittedValue.id\"\n        :message=\"submittedValue\"\n      />\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentMessage.vue?vue&type=script&lang=js&\"","<script>\nimport AgentMessage from 'widget/components/AgentMessage.vue';\nimport UserMessage from 'widget/components/UserMessage.vue';\nimport { mapGetters } from 'vuex';\nimport { MESSAGE_TYPE } from 'widget/helpers/constants';\n\nexport default {\n  components: {\n    AgentMessage,\n    UserMessage,\n  },\n  props: {\n    message: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  computed: {\n    ...mapGetters({\n      allMessages: 'conversation/getConversation',\n    }),\n    isUserMessage() {\n      return this.message.message_type === MESSAGE_TYPE.INCOMING;\n    },\n    replyTo() {\n      const replyTo = this.message?.content_attributes?.in_reply_to;\n      return replyTo ? this.allMessages[replyTo] : null;\n    },\n  },\n};\n</script>\n\n<template>\n  <UserMessage\n    v-if=\"isUserMessage\"\n    :id=\"`cwmsg-${message.id}`\"\n    :message=\"message\"\n    :reply-to=\"replyTo\"\n  />\n  <AgentMessage\n    v-else\n    :id=\"`cwmsg-${message.id}`\"\n    :message=\"message\"\n    :reply-to=\"replyTo\"\n  />\n</template>\n\n<style scoped lang=\"scss\">\n.message-wrap {\n  display: flex;\n  flex-direction: row;\n  align-items: flex-end;\n  max-width: 90%;\n}\n</style>\n\n<style lang=\"scss\">\n@import '~widget/assets/scss/variables.scss';\n\n.chat-bubble .message-content,\n.chat-bubble.user {\n  p code {\n    background-color: var(--s-75);\n    display: inline-block;\n    line-height: 1;\n\n    border-radius: $border-radius-small;\n    padding: $space-smaller;\n  }\n\n  pre {\n    overflow-y: auto;\n    background-color: var(--s-75);\n    border-color: var(--s-75);\n    color: var(--s-800);\n    border-radius: $border-radius-normal;\n    padding: $space-small;\n    margin-top: $space-smaller;\n    margin-bottom: $space-small;\n    display: block;\n    line-height: 1.7;\n    white-space: pre-wrap;\n\n    code {\n      background-color: transparent;\n      color: var(--s-800);\n      padding: 0;\n    }\n  }\n\n  blockquote {\n    border-left: $space-micro solid var(--s-75);\n    color: var(--s-800);\n    padding: $space-smaller $space-small;\n    margin: $space-smaller 0;\n    padding: $space-small $space-small 0 $space-normal;\n  }\n}\n\n@media (prefers-color-scheme: dark) {\n  .chat-bubble.agent.has-dark-mode {\n    blockquote {\n      border-color: var(--s-200);\n      color: var(--s-50);\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AgentMessage.vue?vue&type=template&id=51fcd7be&\"\nimport script from \"./AgentMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./AgentMessage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"agent-message-wrap group\",class:{\n    'has-response': _vm.hasRecordedResponse || _vm.isASubmittedForm,\n  }},[(!_vm.isASubmittedForm)?_c('div',{staticClass:\"agent-message\"},[_c('div',{staticClass:\"avatar-wrap\"},[(_vm.message.showAvatar || _vm.hasRecordedResponse)?_c('Thumbnail',{attrs:{\"src\":_vm.avatarUrl,\"size\":\"24px\",\"username\":_vm.agentName}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"message-wrap\"},[(_vm.hasReplyTo)?_c('div',{staticClass:\"flex mt-2 mb-1 text-xs\"},[_c('ReplyToChip',{attrs:{\"reply-to\":_vm.replyTo}})],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex gap-1\"},[_c('div',{staticClass:\"space-y-2\"},[(_vm.shouldDisplayAgentMessage)?_c('AgentMessageBubble',{attrs:{\"content-type\":_vm.contentType,\"message-content-attributes\":_vm.messageContentAttributes,\"message-id\":_vm.message.id,\"message-type\":_vm.messageType,\"message\":_vm.message.content}}):_vm._e(),_vm._v(\" \"),(_vm.hasAttachments)?_c('div',{staticClass:\"space-y-2 chat-bubble has-attachment agent\",class:(_vm.wrapClass, _vm.getThemeClass('bg-white', 'dark:bg-slate-700'))},_vm._l((_vm.message.attachments),function(attachment){return _c('div',{key:attachment.id},[(attachment.file_type === 'image' && !_vm.hasImageError)?_c('ImageBubble',{attrs:{\"url\":attachment.data_url,\"thumb\":attachment.data_url,\"readable-time\":_vm.readableTime},on:{\"error\":_vm.onImageLoadError}}):_vm._e(),_vm._v(\" \"),(attachment.file_type === 'video' && !_vm.hasVideoError)?_c('VideoBubble',{attrs:{\"url\":attachment.data_url,\"readable-time\":_vm.readableTime},on:{\"error\":_vm.onVideoLoadError}}):(attachment.file_type === 'audio')?_c('audio',{attrs:{\"controls\":\"\"}},[_c('source',{attrs:{\"src\":attachment.data_url}})]):_c('FileBubble',{attrs:{\"url\":attachment.data_url}})],1)}),0):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col justify-end\"},[_c('MessageReplyButton',{staticClass:\"transition-opacity delay-75 opacity-0 group-hover:opacity-100 sm:opacity-0\",on:{\"click\":_vm.toggleReply}})],1)]),_vm._v(\" \"),(_vm.message.showAvatar || _vm.hasRecordedResponse)?_c('p',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.agentName),expression:\"agentName\"}],staticClass:\"agent-name\",class:_vm.getThemeClass('text-slate-700', 'dark:text-slate-200')}):_vm._e()])]):_vm._e(),_vm._v(\" \"),(_vm.hasRecordedResponse)?_c('UserMessage',{attrs:{\"message\":_vm.responseMessage}}):_vm._e(),_vm._v(\" \"),(_vm.isASubmittedForm)?_c('div',_vm._l((_vm.submittedFormValues),function(submittedValue){return _c('UserMessage',{key:submittedValue.id,attrs:{\"message\":submittedValue}})}),1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./ChatMessage.vue?vue&type=template&id=e0e70978&scoped=true&\"\nimport script from \"./ChatMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./ChatMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ChatMessage.vue?vue&type=style&index=0&id=e0e70978&prod&scoped=true&lang=scss&\"\nimport style1 from \"./ChatMessage.vue?vue&type=style&index=1&id=e0e70978&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e0e70978\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isUserMessage)?_c('UserMessage',{attrs:{\"id\":`cwmsg-${_vm.message.id}`,\"message\":_vm.message,\"reply-to\":_vm.replyTo}}):_c('AgentMessage',{attrs:{\"id\":`cwmsg-${_vm.message.id}`,\"message\":_vm.message,\"reply-to\":_vm.replyTo}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentTypingBubble.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AgentTypingBubble.vue?vue&type=script&lang=js&\"","<script>\nimport { useDarkMode } from 'widget/composables/useDarkMode';\nexport default {\n  name: 'AgentTypingBubble',\n  setup() {\n    const { getThemeClass } = useDarkMode();\n    return { getThemeClass };\n  },\n};\n</script>\n\n<template>\n  <div class=\"agent-message-wrap\">\n    <div class=\"agent-message\">\n      <div class=\"avatar-wrap\" />\n      <div class=\"message-wrap mt-2\">\n        <div\n          class=\"typing-bubble chat-bubble agent\"\n          :class=\"getThemeClass('bg-white', 'dark:bg-slate-700')\"\n        >\n          <img\n            src=\"~widget/assets/images/typing.gif\"\n            alt=\"Agent is typing a message\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style lang=\"scss\" scoped>\n@import '~widget/assets/scss/variables.scss';\n.agent-message-wrap {\n  position: sticky;\n  bottom: $space-smaller;\n}\n\n.typing-bubble {\n  max-width: $space-normal * 2.4;\n  padding: $space-small;\n  border-bottom-left-radius: $space-two;\n  border-top-left-radius: $space-small;\n\n  img {\n    width: 100%;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./AgentTypingBubble.vue?vue&type=template&id=a39f9644&scoped=true&\"\nimport script from \"./AgentTypingBubble.vue?vue&type=script&lang=js&\"\nexport * from \"./AgentTypingBubble.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AgentTypingBubble.vue?vue&type=style&index=0&id=a39f9644&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a39f9644\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"agent-message-wrap\"},[_c('div',{staticClass:\"agent-message\"},[_c('div',{staticClass:\"avatar-wrap\"}),_vm._v(\" \"),_c('div',{staticClass:\"message-wrap mt-2\"},[_c('div',{staticClass:\"typing-bubble chat-bubble agent\",class:_vm.getThemeClass('bg-white', 'dark:bg-slate-700')},[_c('img',{attrs:{\"src\":require(\"widget/assets/images/typing.gif\"),\"alt\":\"Agent is typing a message\"}})])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateSeparator.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateSeparator.vue?vue&type=script&lang=js&\"","<script>\nimport { formatDate } from 'shared/helpers/DateHelper';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\n\nexport default {\n  props: {\n    date: {\n      type: String,\n      required: true,\n    },\n  },\n  setup() {\n    const { getThemeClass } = useDarkMode();\n    return { getThemeClass };\n  },\n  computed: {\n    formattedDate() {\n      return formatDate({\n        date: this.date,\n        todayText: this.$t('TODAY'),\n        yesterdayText: this.$t('YESTERDAY'),\n      });\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"date--separator\"\n    :class=\"getThemeClass('text-slate-700', 'dark:text-slate-200')\"\n  >\n    {{ formattedDate }}\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '~widget/assets/scss/variables';\n\n.date--separator {\n  font-size: $font-size-default;\n  height: 50px;\n  line-height: 50px;\n  position: relative;\n  text-align: center;\n  width: 100%;\n}\n\n.date--separator::before,\n.date--separator::after {\n  background-color: $color-border;\n  content: '';\n  height: 1px;\n  position: absolute;\n  top: 24px;\n  width: calc((100% - 120px) / 2);\n}\n\n.date--separator::before {\n  left: 0;\n}\n\n.date--separator::after {\n  right: 0;\n}\n</style>\n","<script>\nimport ChatMessage from 'widget/components/ChatMessage.vue';\nimport AgentTypingBubble from 'widget/components/AgentTypingBubble.vue';\nimport DateSeparator from 'shared/components/DateSeparator.vue';\nimport Spinner from 'shared/components/Spinner.vue';\nimport { useDarkMode } from 'widget/composables/useDarkMode';\nimport { MESSAGE_TYPE } from 'shared/constants/messages';\nimport { mapActions, mapGetters } from 'vuex';\n\nexport default {\n  name: 'ConversationWrap',\n  components: {\n    ChatMessage,\n    AgentTypingBubble,\n    DateSeparator,\n    Spinner,\n  },\n  props: {\n    groupedMessages: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  setup() {\n    const { darkMode } = useDarkMode();\n    return { darkMode };\n  },\n  data() {\n    return {\n      previousScrollHeight: 0,\n      previousConversationSize: 0,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      earliestMessage: 'conversation/getEarliestMessage',\n      lastMessage: 'conversation/getLastMessage',\n      allMessagesLoaded: 'conversation/getAllMessagesLoaded',\n      isFetchingList: 'conversation/getIsFetchingList',\n      conversationSize: 'conversation/getConversationSize',\n      isAgentTyping: 'conversation/getIsAgentTyping',\n      conversationAttributes: 'conversationAttributes/getConversationParams',\n    }),\n    colorSchemeClass() {\n      return `${this.darkMode === 'dark' ? 'dark-scheme' : 'light-scheme'}`;\n    },\n    showStatusIndicator() {\n      const { status } = this.conversationAttributes;\n      const isConversationInPendingStatus = status === 'pending';\n      const isLastMessageIncoming =\n        this.lastMessage.message_type === MESSAGE_TYPE.INCOMING;\n      return (\n        this.isAgentTyping ||\n        (isConversationInPendingStatus && isLastMessageIncoming)\n      );\n    },\n  },\n  watch: {\n    allMessagesLoaded() {\n      this.previousScrollHeight = 0;\n    },\n  },\n  mounted() {\n    this.$el.addEventListener('scroll', this.handleScroll);\n    this.scrollToBottom();\n  },\n  updated() {\n    if (this.previousConversationSize !== this.conversationSize) {\n      this.previousConversationSize = this.conversationSize;\n      this.scrollToBottom();\n    }\n  },\n  unmounted() {\n    this.$el.removeEventListener('scroll', this.handleScroll);\n  },\n  methods: {\n    ...mapActions('conversation', ['fetchOldConversations']),\n    scrollToBottom() {\n      const container = this.$el;\n      container.scrollTop = container.scrollHeight - this.previousScrollHeight;\n      this.previousScrollHeight = 0;\n    },\n    handleScroll() {\n      if (\n        this.isFetchingList ||\n        this.allMessagesLoaded ||\n        !this.conversationSize\n      ) {\n        return;\n      }\n\n      if (this.$el.scrollTop < 100) {\n        this.fetchOldConversations({ before: this.earliestMessage.id });\n        this.previousScrollHeight = this.$el.scrollHeight;\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"conversation--container\" :class=\"colorSchemeClass\">\n    <div class=\"conversation-wrap\" :class=\"{ 'is-typing': isAgentTyping }\">\n      <div v-if=\"isFetchingList\" class=\"message--loader\">\n        <Spinner />\n      </div>\n      <div\n        v-for=\"groupedMessage in groupedMessages\"\n        :key=\"groupedMessage.date\"\n        class=\"messages-wrap\"\n      >\n        <DateSeparator :date=\"groupedMessage.date\" />\n        <ChatMessage\n          v-for=\"message in groupedMessage.messages\"\n          :key=\"message.id\"\n          :message=\"message\"\n        />\n      </div>\n      <AgentTypingBubble v-if=\"showStatusIndicator\" />\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n@import '~widget/assets/scss/variables.scss';\n@import '~widget/assets/scss/mixins.scss';\n\n.conversation--container {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  overflow-y: auto;\n  color-scheme: light dark;\n\n  &.light-scheme {\n    color-scheme: light;\n  }\n  &.dark-scheme {\n    color-scheme: dark;\n  }\n}\n\n.conversation-wrap {\n  flex: 1;\n  padding: $space-large $space-small $space-small $space-small;\n}\n\n.message--loader {\n  text-align: center;\n}\n</style>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationWrap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationWrap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DateSeparator.vue?vue&type=template&id=7d535e9d&scoped=true&\"\nimport script from \"./DateSeparator.vue?vue&type=script&lang=js&\"\nexport * from \"./DateSeparator.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DateSeparator.vue?vue&type=style&index=0&id=7d535e9d&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d535e9d\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"date--separator\",class:_vm.getThemeClass('text-slate-700', 'dark:text-slate-200')},[_vm._v(\"\\n  \"+_vm._s(_vm.formattedDate)+\"\\n\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\n\nimport ChatFooter from '../components/ChatFooter.vue';\nimport ConversationWrap from '../components/ConversationWrap.vue';\n\nexport default {\n  components: { ChatFooter, ConversationWrap },\n  computed: {\n    ...mapGetters({\n      groupedMessages: 'conversation/getGroupedConversation',\n    }),\n  },\n  mounted() {\n    this.$store.dispatch('conversation/setUserLastSeen');\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"flex flex-col flex-1 overflow-hidden rounded-b-lg bg-slate-25 dark:bg-slate-800\"\n  >\n    <div class=\"flex flex-1 overflow-auto\">\n      <ConversationWrap :grouped-messages=\"groupedMessages\" />\n    </div>\n    <ChatFooter class=\"px-5\" />\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./ConversationWrap.vue?vue&type=template&id=1ae28714&scoped=true&\"\nimport script from \"./ConversationWrap.vue?vue&type=script&lang=js&\"\nexport * from \"./ConversationWrap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConversationWrap.vue?vue&type=style&index=0&id=1ae28714&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ae28714\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"conversation--container\",class:_vm.colorSchemeClass},[_c('div',{staticClass:\"conversation-wrap\",class:{ 'is-typing': _vm.isAgentTyping }},[(_vm.isFetchingList)?_c('div',{staticClass:\"message--loader\"},[_c('Spinner')],1):_vm._e(),_vm._v(\" \"),_vm._l((_vm.groupedMessages),function(groupedMessage){return _c('div',{key:groupedMessage.date,staticClass:\"messages-wrap\"},[_c('DateSeparator',{attrs:{\"date\":groupedMessage.date}}),_vm._v(\" \"),_vm._l((groupedMessage.messages),function(message){return _c('ChatMessage',{key:message.id,attrs:{\"message\":message}})})],2)}),_vm._v(\" \"),(_vm.showStatusIndicator)?_c('AgentTypingBubble'):_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Messages.vue?vue&type=template&id=04da2c64&\"\nimport script from \"./Messages.vue?vue&type=script&lang=js&\"\nexport * from \"./Messages.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import {\n  messageSchema,\n  MessageMarkdownTransformer,\n  MessageMarkdownSerializer,\n} from '@chatwoot/prosemirror-schema';\nimport { replaceVariablesInMessage } from '@chatwoot/utils';\n\nimport * as Sentry from '@sentry/browser';\n\n/**\n * The delimiter used to separate the signature from the rest of the body.\n * @type {string}\n */\nexport const SIGNATURE_DELIMITER = '--';\n\n/**\n * Parse and Serialize the markdown text to remove any extra spaces or new lines\n */\nexport function cleanSignature(signature) {\n  try {\n    // remove any horizontal rule tokens\n    signature = signature\n      .replace(/^( *\\* *){3,} *$/gm, '')\n      .replace(/^( *- *){3,} *$/gm, '')\n      .replace(/^( *_ *){3,} *$/gm, '');\n\n    const nodes = new MessageMarkdownTransformer(messageSchema).parse(\n      signature\n    );\n    return MessageMarkdownSerializer.serialize(nodes);\n  } catch (e) {\n    // eslint-disable-next-line no-console\n    console.warn(e);\n    Sentry.captureException(e);\n    // The parser can break on some cases\n    // for example, Token type `hr` not supported by Markdown parser\n    return signature;\n  }\n}\n\n/**\n * Adds the signature delimiter to the beginning of the signature.\n *\n * @param {string} signature - The signature to add the delimiter to.\n * @returns {string} - The signature with the delimiter added.\n */\nfunction appendDelimiter(signature) {\n  return `${SIGNATURE_DELIMITER}\\n\\n${cleanSignature(signature)}`;\n}\n\n/**\n * Check if there's an unedited signature at the end of the body\n * If there is, return the index of the signature, If there isn't, return -1\n *\n * @param {string} body - The body to search for the signature.\n * @param {string} signature - The signature to search for.\n * @returns {number} - The index of the last occurrence of the signature in the body, or -1 if not found.\n */\nexport function findSignatureInBody(body, signature) {\n  const trimmedBody = body.trimEnd();\n  const cleanedSignature = cleanSignature(signature);\n\n  // check if body ends with signature\n  if (trimmedBody.endsWith(cleanedSignature)) {\n    return body.lastIndexOf(cleanedSignature);\n  }\n\n  return -1;\n}\n\n/**\n * Appends the signature to the body, separated by the signature delimiter.\n *\n * @param {string} body - The body to append the signature to.\n * @param {string} signature - The signature to append.\n * @returns {string} - The body with the signature appended.\n */\nexport function appendSignature(body, signature) {\n  const cleanedSignature = cleanSignature(signature);\n  // if signature is already present, return body\n  if (findSignatureInBody(body, cleanedSignature) > -1) {\n    return body;\n  }\n\n  return `${body.trimEnd()}\\n\\n${appendDelimiter(cleanedSignature)}`;\n}\n\n/**\n * Removes the signature from the body, along with the signature delimiter.\n *\n * @param {string} body - The body to remove the signature from.\n * @param {string} signature - The signature to remove.\n * @returns {string} - The body with the signature removed.\n */\nexport function removeSignature(body, signature) {\n  // this will find the index of the signature if it exists\n  // Regardless of extra spaces or new lines after the signature, the index will be the same if present\n  const cleanedSignature = cleanSignature(signature);\n  const signatureIndex = findSignatureInBody(body, cleanedSignature);\n\n  // no need to trim the ends here, because it will simply be removed in the next method\n  let newBody = body;\n\n  // if signature is present, remove it and trim it\n  // trimming will ensure any spaces or new lines before the signature are removed\n  // This means we will have the delimiter at the end\n  if (signatureIndex > -1) {\n    newBody = newBody.substring(0, signatureIndex).trimEnd();\n  }\n\n  // let's find the delimiter and remove it\n  const delimiterIndex = newBody.lastIndexOf(SIGNATURE_DELIMITER);\n  if (\n    delimiterIndex !== -1 &&\n    delimiterIndex === newBody.length - SIGNATURE_DELIMITER.length // this will ensure the delimiter is at the end\n  ) {\n    // if the delimiter is at the end, remove it\n    newBody = newBody.substring(0, delimiterIndex);\n  }\n\n  // return the value\n  return newBody;\n}\n\n/**\n * Replaces the old signature with the new signature.\n * If the old signature is not present, it will append the new signature.\n *\n * @param {string} body - The body to replace the signature in.\n * @param {string} oldSignature - The signature to replace.\n * @param {string} newSignature - The signature to replace the old signature with.\n * @returns {string} - The body with the old signature replaced with the new signature.\n *\n */\nexport function replaceSignature(body, oldSignature, newSignature) {\n  const withoutSignature = removeSignature(body, oldSignature);\n  return appendSignature(withoutSignature, newSignature);\n}\n\n/**\n * Extract text from markdown, and remove all images, code blocks, links, headers, bold, italic, lists etc.\n * Links will be converted to text, and not removed.\n *\n * @param {string} markdown - markdown text to be extracted\n * @returns\n */\nexport function extractTextFromMarkdown(markdown) {\n  return markdown\n    .replace(/```[\\s\\S]*?```/g, '') // Remove code blocks\n    .replace(/`.*?`/g, '') // Remove inline code\n    .replace(/!\\[.*?\\]\\(.*?\\)/g, '') // Remove images before removing links\n    .replace(/\\[([^\\]]+)\\]\\([^)]+\\)/g, '$1') // Remove links but keep the text\n    .replace(/#+\\s*|[*_-]{1,3}/g, '') // Remove headers, bold, italic, lists etc.\n    .split('\\n')\n    .map(line => line.trim())\n    .filter(Boolean)\n    .join('\\n') // Trim each line & remove any lines only having spaces\n    .replace(/\\n{2,}/g, '\\n') // Remove multiple consecutive newlines (blank lines)\n    .trim(); // Trim any extra space\n}\n\n/**\n * Scrolls the editor view into current cursor position\n *\n * @param {EditorView} view - The Prosemirror EditorView\n *\n */\nexport const scrollCursorIntoView = view => {\n  // Get the current selection's head position (where the cursor is).\n  const pos = view.state.selection.head;\n\n  // Get the corresponding DOM node for that position.\n  const domAtPos = view.domAtPos(pos);\n  const node = domAtPos.node;\n\n  // Scroll the node into view.\n  if (node && node.scrollIntoView) {\n    node.scrollIntoView({ behavior: 'smooth', block: 'center' });\n  }\n};\n\n/**\n * Returns a transaction that inserts a node into editor at the given position\n * Has an optional param 'content' to check if the\n *\n * @param {Node} node - The prosemirror node that needs to be inserted into the editor\n * @param {number} from - Position in the editor where the node needs to be inserted\n * @param {number} to - Position in the editor where the node needs to be replaced\n *\n */\nexport function insertAtCursor(editorView, node, from, to) {\n  if (!editorView) {\n    return undefined;\n  }\n\n  // This is a workaround to prevent inserting content into new line rather than on the exiting line\n  // If the node is of type 'doc' and has only one child which is a paragraph,\n  // then extract its inline content to be inserted as inline.\n  const isWrappedInParagraph =\n    node.type.name === 'doc' &&\n    node.childCount === 1 &&\n    node.firstChild.type.name === 'paragraph';\n\n  if (isWrappedInParagraph) {\n    node = node.firstChild.content;\n  }\n\n  let tr;\n  if (to) {\n    tr = editorView.state.tr.replaceWith(from, to, node).insertText(` `);\n  } else {\n    tr = editorView.state.tr.insert(from, node);\n  }\n  const state = editorView.state.apply(tr);\n  editorView.updateState(state);\n  editorView.focus();\n\n  return state;\n}\n\n/**\n * Determines the appropriate node and position to insert an image in the editor.\n *\n * Based on the current editor state and the provided image URL, this function finds out the correct node (either\n * a standalone image node or an image wrapped in a paragraph) and its respective position in the editor.\n *\n * 1. If the current node is a paragraph and doesn't contain an image or text, the image is inserted directly into it.\n * 2. If the current node isn't a paragraph or it's a paragraph containing text, the image will be wrapped\n *    in a new paragraph and then inserted.\n * 3. If the current node is a paragraph containing an image, the new image will be inserted directly into it.\n *\n * @param {Object} editorState - The current state of the editor. It provides necessary details like selection, schema, etc.\n * @param {string} fileUrl - The URL of the image to be inserted into the editor.\n * @returns {Object|null} An object containing details about the node to be inserted and its position. It returns null if no image node can be created.\n * @property {Node} node - The ProseMirror node to be inserted (either an image node or a paragraph containing the image).\n * @property {number} pos - The position where the new node should be inserted in the editor.\n */\n\nexport const findNodeToInsertImage = (editorState, fileUrl) => {\n  const { selection, schema } = editorState;\n  const { nodes } = schema;\n  const currentNode = selection.$from.node();\n  const {\n    type: { name: typeName },\n    content: { size, content },\n  } = currentNode;\n\n  const imageNode = nodes.image.create({ src: fileUrl });\n\n  if (!imageNode) return null;\n\n  const isInParagraph = typeName === 'paragraph';\n  const needsNewLine =\n    !content.some(n => n.type.name === 'image') && size !== 0 ? 1 : 0;\n\n  return {\n    node: isInParagraph ? imageNode : nodes.paragraph.create({}, imageNode),\n    pos: selection.from + needsNewLine,\n  };\n};\n\n/**\n * Set URL with query and size.\n *\n * @param {Object} selectedImageNode - The current selected node.\n * @param {Object} size - The size to set.\n * @param {Object} editorView - The editor view.\n */\nexport function setURLWithQueryAndSize(selectedImageNode, size, editorView) {\n  if (selectedImageNode) {\n    // Create and apply the transaction\n    const tr = editorView.state.tr.setNodeMarkup(\n      editorView.state.selection.from,\n      null,\n      {\n        src: selectedImageNode.src,\n        height: size.height,\n      }\n    );\n\n    if (tr.docChanged) {\n      editorView.dispatch(tr);\n    }\n  }\n}\n\n/**\n * Content Node Creation Helper Functions for\n * - mention\n * - canned response\n * - variable\n * - emoji\n */\n\n/**\n * Centralized node creation function that handles the creation of different types of nodes based on the specified type.\n * @param {Object} editorView - The editor view instance.\n * @param {string} nodeType - The type of node to create ('mention', 'cannedResponse', 'variable', 'emoji').\n * @param {Object|string} content - The content needed to create the node, which varies based on node type.\n * @returns {Object|null} - The created ProseMirror node or null if the type is not supported.\n */\nconst createNode = (editorView, nodeType, content) => {\n  const { state } = editorView;\n  switch (nodeType) {\n    case 'mention':\n      return state.schema.nodes.mention.create({\n        userId: content.id,\n        userFullName: content.name,\n      });\n    case 'cannedResponse':\n      return new MessageMarkdownTransformer(messageSchema).parse(content);\n    case 'variable':\n      return state.schema.text(`{{${content}}}`);\n    case 'emoji':\n      return state.schema.text(content);\n    default:\n      return null;\n  }\n};\n\n/**\n * Object mapping types to their respective node creation functions.\n */\nconst nodeCreators = {\n  mention: (editorView, content, from, to) => ({\n    node: createNode(editorView, 'mention', content),\n    from,\n    to,\n  }),\n  cannedResponse: (editorView, content, from, to, variables) => {\n    const updatedMessage = replaceVariablesInMessage({\n      message: content,\n      variables,\n    });\n    const node = createNode(editorView, 'cannedResponse', updatedMessage);\n    return {\n      node,\n      from: node.textContent === updatedMessage ? from : from - 1,\n      to,\n    };\n  },\n  variable: (editorView, content, from, to) => ({\n    node: createNode(editorView, 'variable', content),\n    from,\n    to,\n  }),\n  emoji: (editorView, content, from, to) => ({\n    node: createNode(editorView, 'emoji', content),\n    from,\n    to,\n  }),\n};\n\n/**\n * Retrieves a content node based on the specified type and content, using a functional approach to select the appropriate node creation function.\n * @param {Object} editorView - The editor view instance.\n * @param {string} type - The type of content node to create ('mention', 'cannedResponse', 'variable', 'emoji').\n * @param {string|Object} content - The content to be transformed into a node.\n * @param {Object} range - An object containing 'from' and 'to' properties indicating the range in the document where the node should be placed.\n * @param {Object} variables - Optional. Variables to replace in the content, used for 'cannedResponse' type.\n * @returns {Object} - An object containing the created node and the updated 'from' and 'to' positions.\n */\nexport const getContentNode = (\n  editorView,\n  type,\n  content,\n  { from, to },\n  variables\n) => {\n  const creator = nodeCreators[type];\n  return creator\n    ? creator(editorView, content, from, to, variables)\n    : { node: null, from, to };\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:_vm.thumbnailBoxClass,style:({ height: _vm.size, width: _vm.size }),attrs:{\"title\":_vm.title}},[_vm._t(\"default\",function(){return [_c('img',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShowImage),expression:\"shouldShowImage\"}],class:_vm.thumbnailClass,attrs:{\"src\":_vm.src,\"draggable\":\"false\"},on:{\"load\":_vm.onImgLoad,\"error\":_vm.onImgError}}),_vm._v(\" \"),_c('Avatar',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.shouldShowImage),expression:\"!shouldShowImage\"}],class:_vm.thumbnailClass,attrs:{\"username\":_vm.userNameWithoutEmoji,\"size\":_vm.avatarSize}})]}),_vm._v(\" \"),(_vm.badgeSrc)?_c('img',{staticClass:\"source-badge\",style:(_vm.badgeStyle),attrs:{\"src\":`/integrations/channels/badges/${_vm.badgeSrc}.png`,\"alt\":\"Badge\"}}):_vm._e(),_vm._v(\" \"),(_vm.showStatusIndicator)?_c('div',{class:`source-badge user-online-status user-online-status--${_vm.status}`,style:(_vm.statusStyle)}):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Thumbnail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Thumbnail.vue?vue&type=script&lang=js&\"","<script>\n/**\n * Thumbnail Component\n * Src - source for round image\n * Size - Size of the thumbnail\n * Badge - Chat source indication { fb / telegram }\n * Username - Username for avatar\n */\nimport Avatar from './Avatar.vue';\nimport { removeEmoji } from 'shared/helpers/emoji';\n\nexport default {\n  components: {\n    Avatar,\n  },\n  props: {\n    src: {\n      type: String,\n      default: '',\n    },\n    size: {\n      type: String,\n      default: '40px',\n    },\n    badge: {\n      type: String,\n      default: '',\n    },\n    username: {\n      type: String,\n      default: '',\n    },\n    status: {\n      type: String,\n      default: '',\n    },\n    hasBorder: {\n      type: Boolean,\n      default: false,\n    },\n    shouldShowStatusAlways: {\n      type: Boolean,\n      default: false,\n    },\n    title: {\n      type: String,\n      default: '',\n    },\n    variant: {\n      type: String,\n      default: 'circle',\n    },\n  },\n  data() {\n    return {\n      hasImageLoaded: false,\n      imgError: false,\n    };\n  },\n  computed: {\n    userNameWithoutEmoji() {\n      return removeEmoji(this.username);\n    },\n    showStatusIndicator() {\n      if (this.shouldShowStatusAlways) return true;\n      return this.status === 'online' || this.status === 'busy';\n    },\n    avatarSize() {\n      return Number(this.size.replace(/\\D+/g, ''));\n    },\n    badgeSrc() {\n      return {\n        instagram_direct_message: 'instagram-dm',\n        facebook: 'messenger',\n        'twitter-tweet': 'twitter-tweet',\n        'twitter-dm': 'twitter-dm',\n        whatsapp: 'whatsapp',\n        sms: 'sms',\n        'Channel::Line': 'line',\n        'Channel::Telegram': 'telegram',\n        'Channel::WebWidget': '',\n      }[this.badge];\n    },\n    badgeStyle() {\n      const size = Math.floor(this.avatarSize / 3);\n      const badgeSize = `${size + 2}px`;\n      const borderRadius = `${size / 2}px`;\n      return { width: badgeSize, height: badgeSize, borderRadius };\n    },\n    statusStyle() {\n      const statusSize = `${this.avatarSize / 4}px`;\n      return { width: statusSize, height: statusSize };\n    },\n    thumbnailClass() {\n      const className = this.hasBorder\n        ? 'border border-solid border-white dark:border-slate-700/50'\n        : '';\n      const variant =\n        this.variant === 'circle' ? 'thumbnail-rounded' : 'thumbnail-square';\n      return `user-thumbnail ${className} ${variant}`;\n    },\n    thumbnailBoxClass() {\n      const boxClass = this.variant === 'circle' ? 'is-rounded' : '';\n      return `user-thumbnail-box ${boxClass}`;\n    },\n    shouldShowImage() {\n      if (!this.src) {\n        return false;\n      }\n      if (this.hasImageLoaded) {\n        return !this.imgError;\n      }\n      return false;\n    },\n  },\n  watch: {\n    src(value, oldValue) {\n      if (value !== oldValue && this.imgError) {\n        this.imgError = false;\n      }\n    },\n  },\n  methods: {\n    onImgError() {\n      this.imgError = true;\n    },\n    onImgLoad() {\n      this.hasImageLoaded = true;\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    :class=\"thumbnailBoxClass\"\n    :style=\"{ height: size, width: size }\"\n    :title=\"title\"\n  >\n    <!-- Using v-show instead of v-if to avoid flickering as v-if removes dom elements.  -->\n    <slot>\n      <img\n        v-show=\"shouldShowImage\"\n        :src=\"src\"\n        draggable=\"false\"\n        :class=\"thumbnailClass\"\n        @load=\"onImgLoad\"\n        @error=\"onImgError\"\n      />\n      <Avatar\n        v-show=\"!shouldShowImage\"\n        :username=\"userNameWithoutEmoji\"\n        :class=\"thumbnailClass\"\n        :size=\"avatarSize\"\n      />\n    </slot>\n    <img\n      v-if=\"badgeSrc\"\n      class=\"source-badge\"\n      :style=\"badgeStyle\"\n      :src=\"`/integrations/channels/badges/${badgeSrc}.png`\"\n      alt=\"Badge\"\n    />\n    <div\n      v-if=\"showStatusIndicator\"\n      :class=\"`source-badge user-online-status user-online-status--${status}`\"\n      :style=\"statusStyle\"\n    />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.user-thumbnail-box {\n  flex: 0 0 auto;\n  max-width: 100%;\n  position: relative;\n\n  &.is-rounded {\n    border-radius: 50%;\n  }\n\n  .user-thumbnail {\n    border-radius: 50%;\n    &.thumbnail-square {\n      border-radius: var(--border-radius-large);\n    }\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    object-fit: cover;\n    vertical-align: initial;\n  }\n\n  .source-badge {\n    border-radius: var(--border-radius-small);\n    bottom: var(--space-minus-micro);\n    box-shadow: var(--shadow-small);\n    height: var(--space-slab);\n    padding: var(--space-micro);\n    position: absolute;\n    right: 0;\n    width: var(--space-slab);\n    @apply bg-white dark:bg-slate-900;\n  }\n\n  .user-online-status {\n    border-radius: 50%;\n    bottom: var(--space-micro);\n\n    &:after {\n      content: ' ';\n    }\n  }\n\n  .user-online-status--online {\n    @apply bg-green-400 dark:bg-green-400;\n  }\n\n  .user-online-status--busy {\n    @apply bg-yellow-500 dark:bg-yellow-500;\n  }\n\n  .user-online-status--offline {\n    @apply bg-slate-500 dark:bg-slate-500;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./Thumbnail.vue?vue&type=template&id=70fe12bc&scoped=true&\"\nimport script from \"./Thumbnail.vue?vue&type=script&lang=js&\"\nexport * from \"./Thumbnail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Thumbnail.vue?vue&type=style&index=0&id=70fe12bc&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70fe12bc\",\n  null\n  \n)\n\nexport default component.exports","/**\n * Detects support for emoji character sets.\n *\n * Based on the Modernizr emoji detection.\n * https://github.com/Modernizr/Modernizr/blob/347ddb078116cee91b25b6e897e211b023f9dcb4/feature-detects/emoji.js\n *\n * @return {Boolean} true or false\n * @example\n *\n * hasEmojiSupport()\n * // => true|false\n */\nexport const hasEmojiSupport = () => {\n  const pixelRatio = window.devicePixelRatio || 1;\n  const offset = 12 * pixelRatio;\n  const node = document.createElement('canvas');\n\n  // canvastext support\n  if (\n    !node.getContext ||\n    !node.getContext('2d') ||\n    typeof node.getContext('2d').fillText !== 'function'\n  ) {\n    return false;\n  }\n\n  const ctx = node.getContext('2d');\n\n  ctx.fillStyle = '#f00';\n  ctx.textBaseline = 'top';\n  ctx.font = '32px Arial';\n  ctx.fillText('\\ud83d\\udc28', 0, 0); // U+1F428 KOALA\n  return ctx.getImageData(offset, offset, 1, 1).data[0] !== 0;\n};\n\nexport const removeEmoji = text => {\n  if (text) {\n    return text\n      .replace(\n        /([\\u2700-\\u27BF]|[\\uE000-\\uF8FF]|\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDFFF]|[\\u2011-\\u26FF]|\\uD83E[\\uDD10-\\uDDFF])/g,\n        ''\n      )\n      .replace(/\\s+/g, ' ')\n      .trim();\n  }\n  return '';\n};\n","// Process [@mention](mention://user/1/Pranav)\nconst USER_MENTIONS_REGEX = /mention:\\/\\/(user|team)\\/(\\d+)\\/(.+)/gm;\n\nconst buildMentionTokens = () => (state, silent) => {\n  var label;\n  var labelEnd;\n  var labelStart;\n  var pos;\n  var res;\n  var token;\n  var href = '';\n  var max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5b /* [ */) {\n    return false;\n  }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) {\n    return false;\n  }\n\n  label = state.src.slice(labelStart, labelEnd);\n  pos = labelEnd + 1;\n\n  if (pos < max && state.src.charCodeAt(pos) === 0x28 /* ( */) {\n    pos += 1;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n    pos += 1;\n  }\n\n  if (!href.match(new RegExp(USER_MENTIONS_REGEX))) {\n    return false;\n  }\n\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token = state.push('mention', '');\n    token.href = href;\n    token.content = label;\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n\n  return true;\n};\n\nconst renderMentions = () => (tokens, idx) => {\n  return `<span class=\"prosemirror-mention-node\">${tokens[idx].content}</span>`;\n};\n\nexport default function mentionPlugin(md) {\n  md.renderer.rules.mention = renderMentions(md);\n  md.inline.ruler.before('link', 'mention', buildMentionTokens(md));\n}\n","import mila from 'markdown-it-link-attributes';\nimport mentionPlugin from './markdownIt/link';\n\nconst setImageHeight = inlineToken => {\n  const imgSrc = inlineToken.attrGet('src');\n  if (!imgSrc) return;\n  const url = new URL(imgSrc);\n  const height = url.searchParams.get('cw_image_height');\n  if (!height) return;\n  inlineToken.attrSet('style', `height: ${height};`);\n};\n\nconst processInlineToken = blockToken => {\n  blockToken.children.forEach(inlineToken => {\n    if (inlineToken.type === 'image') {\n      setImageHeight(inlineToken);\n    }\n  });\n};\n\nconst imgResizeManager = md => {\n  // Custom rule for image resize in markdown\n  // If the image url has a query param cw_image_height, then add a style attribute to the image\n  md.core.ruler.after('inline', 'add-image-height', state => {\n    state.tokens.forEach(blockToken => {\n      if (blockToken.type === 'inline') {\n        processInlineToken(blockToken);\n      }\n    });\n  });\n};\n\nconst md = require('markdown-it')({\n  html: false,\n  xhtmlOut: true,\n  breaks: true,\n  langPrefix: 'language-',\n  linkify: true,\n  typographer: true,\n  quotes: '\\u201c\\u201d\\u2018\\u2019',\n  maxNesting: 20,\n})\n  .use(mentionPlugin)\n  .use(imgResizeManager)\n  .use(mila, {\n    attrs: {\n      class: 'link',\n      rel: 'noreferrer noopener nofollow',\n      target: '_blank',\n    },\n  });\n\nconst TWITTER_USERNAME_REGEX = /(^|[^@\\w])@(\\w{1,15})\\b/g;\nconst TWITTER_USERNAME_REPLACEMENT = '$1[@$2](http://twitter.com/$2)';\nconst TWITTER_HASH_REGEX = /(^|\\s)#(\\w+)/g;\nconst TWITTER_HASH_REPLACEMENT = '$1[#$2](https://twitter.com/hashtag/$2)';\n\nclass MessageFormatter {\n  constructor(message, isATweet = false, isAPrivateNote = false) {\n    this.message = message || '';\n    this.isAPrivateNote = isAPrivateNote;\n    this.isATweet = isATweet;\n  }\n\n  formatMessage() {\n    let updatedMessage = this.message;\n    if (this.isATweet && !this.isAPrivateNote) {\n      updatedMessage = updatedMessage.replace(\n        TWITTER_USERNAME_REGEX,\n        TWITTER_USERNAME_REPLACEMENT\n      );\n      updatedMessage = updatedMessage.replace(\n        TWITTER_HASH_REGEX,\n        TWITTER_HASH_REPLACEMENT\n      );\n    }\n    return md.render(updatedMessage);\n  }\n\n  get formattedMessage() {\n    return this.formatMessage();\n  }\n\n  get plainText() {\n    const strippedOutHtml = new DOMParser().parseFromString(\n      this.formattedMessage,\n      'text/html'\n    );\n    return strippedOutHtml.body.textContent || '';\n  }\n}\n\nexport default MessageFormatter;\n","import MessageFormatter from '../helpers/MessageFormatter';\n\n/**\n * A composable providing utility functions for message formatting.\n *\n * @returns {Object} A set of functions for message formatting.\n */\nexport const useMessageFormatter = () => {\n  /**\n   * Formats a message based on specified conditions.\n   *\n   * @param {string} message - The message to be formatted.\n   * @param {boolean} isATweet - Whether the message is a tweet.\n   * @param {boolean} isAPrivateNote - Whether the message is a private note.\n   * @returns {string} - The formatted message.\n   */\n  const formatMessage = (message, isATweet, isAPrivateNote) => {\n    const messageFormatter = new MessageFormatter(\n      message,\n      isATweet,\n      isAPrivateNote\n    );\n    return messageFormatter.formattedMessage;\n  };\n\n  /**\n   * Converts a message to plain text.\n   *\n   * @param {string} message - The message to be converted.\n   * @param {boolean} isATweet - Whether the message is a tweet.\n   * @returns {string} - The plain text message.\n   */\n  const getPlainText = (message, isATweet) => {\n    const messageFormatter = new MessageFormatter(message, isATweet);\n    return messageFormatter.plainText;\n  };\n\n  /**\n   * Truncates a description to a maximum length of 100 characters.\n   *\n   * @param {string} [description=''] - The description to be truncated.\n   * @returns {string} - The truncated description.\n   */\n  const truncateMessage = (description = '') => {\n    if (description.length < 100) {\n      return description;\n    }\n\n    return `${description.slice(0, 97)}...`;\n  };\n\n  /**\n   * Highlights occurrences of a search term within given content.\n   *\n   * @param {string} [content=''] - The content in which to search.\n   * @param {string} [searchTerm=''] - The term to search for.\n   * @param {string} [highlightClass=''] - The CSS class to apply to the highlighted term.\n   * @returns {string} - The content with highlighted terms.\n   */\n  const highlightContent = (\n    content = '',\n    searchTerm = '',\n    highlightClass = ''\n  ) => {\n    const plainTextContent = getPlainText(content);\n\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\n    const escapedSearchTerm = searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n    return plainTextContent.replace(\n      new RegExp(`(${escapedSearchTerm})`, 'ig'),\n      `<span class=\"${highlightClass}\">$1</span>`\n    );\n  };\n\n  return {\n    formatMessage,\n    getPlainText,\n    truncateMessage,\n    highlightContent,\n  };\n};\n","import {\n  format,\n  isSameYear,\n  fromUnixTime,\n  formatDistanceToNow,\n} from 'date-fns';\n\n/**\n * Formats a Unix timestamp into a human-readable time format.\n * @param {number} time - Unix timestamp.\n * @param {string} [dateFormat='h:mm a'] - Desired format of the time.\n * @returns {string} Formatted time string.\n */\nexport const messageStamp = (time, dateFormat = 'h:mm a') => {\n  const unixTime = fromUnixTime(time);\n  return format(unixTime, dateFormat);\n};\n\n/**\n * Provides a formatted timestamp, adjusting the format based on the current year.\n * @param {number} time - Unix timestamp.\n * @param {string} [dateFormat='MMM d, yyyy'] - Desired date format.\n * @returns {string} Formatted date string.\n */\nexport const messageTimestamp = (time, dateFormat = 'MMM d, yyyy') => {\n  const messageTime = fromUnixTime(time);\n  const now = new Date();\n  const messageDate = format(messageTime, dateFormat);\n  if (!isSameYear(messageTime, now)) {\n    return format(messageTime, 'LLL d y, h:mm a');\n  }\n  return messageDate;\n};\n\n/**\n * Converts a Unix timestamp to a relative time string (e.g., 3 hours ago).\n * @param {number} time - Unix timestamp.\n * @returns {string} Relative time string.\n */\nexport const dynamicTime = time => {\n  const unixTime = fromUnixTime(time);\n  return formatDistanceToNow(unixTime, { addSuffix: true });\n};\n\n/**\n * Formats a Unix timestamp into a specified date format.\n * @param {number} time - Unix timestamp.\n * @param {string} [dateFormat='MMM d, yyyy'] - Desired date format.\n * @returns {string} Formatted date string.\n */\nexport const dateFormat = (time, df = 'MMM d, yyyy') => {\n  const unixTime = fromUnixTime(time);\n  return format(unixTime, df);\n};\n\n/**\n * Converts a detailed time description into a shorter format, optionally appending 'ago'.\n * @param {string} time - Detailed time description (e.g., 'a minute ago').\n * @param {boolean} [withAgo=false] - Whether to append 'ago' to the result.\n * @returns {string} Shortened time description.\n */\nexport const shortTimestamp = (time, withAgo = false) => {\n  // This function takes a time string and converts it to a short time string\n  // with the following format: 1m, 1h, 1d, 1mo, 1y\n  // The function also takes an optional boolean parameter withAgo\n  // which will add the word \"ago\" to the end of the time string\n  const suffix = withAgo ? ' ago' : '';\n  const timeMappings = {\n    'less than a minute ago': 'now',\n    'a minute ago': `1m${suffix}`,\n    'an hour ago': `1h${suffix}`,\n    'a day ago': `1d${suffix}`,\n    'a month ago': `1mo${suffix}`,\n    'a year ago': `1y${suffix}`,\n  };\n  // Check if the time string is one of the specific cases\n  if (timeMappings[time]) {\n    return timeMappings[time];\n  }\n  const convertToShortTime = time\n    .replace(/about|over|almost|/g, '')\n    .replace(' minute ago', `m${suffix}`)\n    .replace(' minutes ago', `m${suffix}`)\n    .replace(' hour ago', `h${suffix}`)\n    .replace(' hours ago', `h${suffix}`)\n    .replace(' day ago', `d${suffix}`)\n    .replace(' days ago', `d${suffix}`)\n    .replace(' month ago', `mo${suffix}`)\n    .replace(' months ago', `mo${suffix}`)\n    .replace(' year ago', `y${suffix}`)\n    .replace(' years ago', `y${suffix}`);\n  return convertToShortTime;\n};\n","export const formatBytes = (bytes, decimals = 2) => {\n  if (bytes === 0) return '0 Bytes';\n\n  const k = 1024;\n  const dm = decimals < 0 ? 0 : decimals;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n\n  return parseFloat((bytes / k ** i).toFixed(dm)) + ' ' + sizes[i];\n};\n\nexport const fileSizeInMegaBytes = bytes => {\n  return bytes / (1024 * 1024);\n};\n\nexport const checkFileSizeLimit = (file, maximumUploadLimit) => {\n  const fileSize = file?.file?.size || file?.size;\n  const fileSizeInMB = fileSizeInMegaBytes(fileSize);\n  return fileSizeInMB <= maximumUploadLimit;\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"avatar-container\",style:(_vm.style),attrs:{\"aria-hidden\":\"true\"}},[_vm._t(\"default\",function(){return [_vm._v(_vm._s(_vm.userInitial))]})],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Avatar.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  name: 'Avatar',\n  props: {\n    username: {\n      type: String,\n      default: '',\n    },\n    size: {\n      type: Number,\n      default: 40,\n    },\n  },\n  computed: {\n    style() {\n      return {\n        fontSize: `${Math.floor(this.size / 2.5)}px`,\n      };\n    },\n    userInitial() {\n      const parts = this.username.split(/[ -]/);\n      let initials = parts.reduce((acc, curr) => acc + curr.charAt(0), '');\n\n      if (initials.length > 2 && initials.search(/[A-Z]/) !== -1) {\n        initials = initials.replace(/[a-z]+/g, '');\n      }\n      initials = initials.substring(0, 2).toUpperCase();\n\n      return initials;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"avatar-container\" :style=\"style\" aria-hidden=\"true\">\n    <slot>{{ userInitial }}</slot>\n  </div>\n</template>\n\n<style scoped>\n@tailwind components;\n@layer components {\n  .avatar-color {\n    background-image: linear-gradient(to top, #c2e1ff 0%, #d6ebff 100%);\n  }\n\n  .dark-avatar-color {\n    background-image: linear-gradient(to top, #135899 0%, #135899 100%);\n  }\n}\n.avatar-container {\n  @apply flex leading-[100%] font-medium items-center justify-center text-center cursor-default avatar-color dark:dark-avatar-color text-woot-600 dark:text-woot-200;\n}\n</style>\n","import { render, staticRenderFns } from \"./Avatar.vue?vue&type=template&id=59e049c0&scoped=true&\"\nimport script from \"./Avatar.vue?vue&type=script&lang=js&\"\nexport * from \"./Avatar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Avatar.vue?vue&type=style&index=0&id=59e049c0&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"59e049c0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('textarea',{ref:\"textarea\",attrs:{\"placeholder\":_vm.placeholder,\"rows\":_vm.rows},domProps:{\"value\":_vm.value},on:{\"input\":_vm.onInput,\"focus\":_vm.onFocus,\"keyup\":_vm.onKeyup,\"blur\":_vm.onBlur}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResizableTextArea.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResizableTextArea.vue?vue&type=script&lang=js&\"","<script>\nimport {\n  appendSignature,\n  removeSignature,\n  extractTextFromMarkdown,\n} from 'dashboard/helper/editorHelper';\nimport { createTypingIndicator } from '@chatwoot/utils';\n\nconst TYPING_INDICATOR_IDLE_TIME = 4000;\nexport default {\n  props: {\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    value: {\n      type: String,\n      default: '',\n    },\n    minHeight: {\n      type: Number,\n      default: 2,\n    },\n    signature: {\n      type: String,\n      default: '',\n    },\n    rows: {\n      type: Number,\n      default: 2,\n    },\n    // add this as a prop, so that we won't have to add useUISettings\n    sendWithSignature: {\n      type: Boolean,\n      default: false,\n    },\n    // allowSignature is a kill switch, ensuring no signature methods are triggered except when this flag is true\n    allowSignature: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      typingIndicator: createTypingIndicator(\n        () => {\n          this.$emit('typingOn');\n        },\n        () => {\n          this.$emit('typingOff');\n        },\n        TYPING_INDICATOR_IDLE_TIME\n      ),\n    };\n  },\n  computed: {\n    cleanedSignature() {\n      // clean the signature, this will ensure that we don't have\n      // any markdown formatted text in the signature\n      return extractTextFromMarkdown(this.signature);\n    },\n  },\n  watch: {\n    value() {\n      this.resizeTextarea();\n      //  watch triggers every time the value is changed, we cannot set this to focus then\n      // when this runs, it sets the cursor to the end of the body, ignoring the signature\n      // Suppose if someone manually set the cursor to the middle of the body\n      // and starts typing, the cursor will be set to the end of the body\n      // A surprise cursor jump? Definitely not user-friendly.\n      if (document.activeElement !== this.$refs.textarea) {\n        this.$nextTick(() => {\n          this.setCursor();\n        });\n      }\n    },\n    sendWithSignature(newValue) {\n      if (this.allowSignature) {\n        this.toggleSignatureInEditor(newValue);\n      }\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      if (this.value) {\n        this.resizeTextarea();\n        this.setCursor();\n      } else {\n        this.focus();\n      }\n    });\n  },\n  methods: {\n    resizeTextarea() {\n      this.$el.style.height = 'auto';\n      if (!this.value) {\n        this.$el.style.height = `${this.minHeight}rem`;\n      } else {\n        this.$el.style.height = `${this.$el.scrollHeight}px`;\n      }\n    },\n    // The toggleSignatureInEditor gets the new value from the\n    // watcher, this means that if the value is true, the signature\n    // is supposed to be added, else we remove it.\n    toggleSignatureInEditor(signatureEnabled) {\n      const valueWithSignature = signatureEnabled\n        ? appendSignature(this.value, this.cleanedSignature)\n        : removeSignature(this.value, this.cleanedSignature);\n\n      this.$emit('input', valueWithSignature);\n\n      this.$nextTick(() => {\n        this.resizeTextarea();\n        this.setCursor();\n      });\n    },\n    setCursor() {\n      const bodyWithoutSignature = removeSignature(\n        this.value,\n        this.cleanedSignature\n      );\n\n      // only trim at end, so if there are spaces at the start, those are not removed\n      const bodyEndsAt = bodyWithoutSignature.trimEnd().length;\n      const textarea = this.$refs.textarea;\n\n      if (textarea) {\n        textarea.focus();\n        textarea.setSelectionRange(bodyEndsAt, bodyEndsAt);\n      }\n    },\n    onInput(event) {\n      this.$emit('input', event.target.value);\n      this.resizeTextarea();\n    },\n    onKeyup() {\n      this.typingIndicator.start();\n    },\n    onBlur() {\n      this.typingIndicator.stop();\n      this.$emit('blur');\n    },\n    onFocus() {\n      this.$emit('focus');\n    },\n    focus() {\n      if (this.$refs.textarea) this.$refs.textarea.focus();\n    },\n  },\n};\n</script>\n\n<template>\n  <textarea\n    ref=\"textarea\"\n    :placeholder=\"placeholder\"\n    :rows=\"rows\"\n    :value=\"value\"\n    @input=\"onInput\"\n    @focus=\"onFocus\"\n    @keyup=\"onKeyup\"\n    @blur=\"onBlur\"\n  />\n</template>\n","import { render, staticRenderFns } from \"./ResizableTextArea.vue?vue&type=template&id=2ea38212&\"\nimport script from \"./ResizableTextArea.vue?vue&type=script&lang=js&\"\nexport * from \"./ResizableTextArea.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('button',{class:_vm.buttonClassName,style:(_vm.buttonStyles),attrs:{\"disabled\":_vm.disabled},on:{\"click\":_vm.onClick}},[_vm._t(\"default\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Button.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Button.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  props: {\n    block: {\n      type: Boolean,\n      default: false,\n    },\n    type: {\n      type: String,\n      default: 'blue',\n    },\n    bgColor: {\n      type: String,\n      default: '',\n    },\n    textColor: {\n      type: String,\n      default: '',\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  computed: {\n    buttonClassName() {\n      let className = 'text-white py-3 px-4 rounded shadow-sm leading-4';\n      if (this.type === 'clear') {\n        className = 'flex mx-auto mt-4 text-xs leading-3 w-auto text-black-600';\n      }\n\n      if (this.type === 'blue' && !Object.keys(this.buttonStyles).length) {\n        className = `${className} bg-woot-500 hover:bg-woot-700`;\n      }\n      if (this.block) {\n        className = `${className} w-full`;\n      }\n      return className;\n    },\n    buttonStyles() {\n      const styles = {};\n      if (this.bgColor) {\n        styles.backgroundColor = this.bgColor;\n      }\n      if (this.textColor) {\n        styles.color = this.textColor;\n      }\n      return styles;\n    },\n  },\n  methods: {\n    onClick(e) {\n      this.$emit('click', e);\n    },\n  },\n};\n</script>\n\n<template>\n  <button\n    :class=\"buttonClassName\"\n    :style=\"buttonStyles\"\n    :disabled=\"disabled\"\n    @click=\"onClick\"\n  >\n    <slot />\n  </button>\n</template>\n","import { render, staticRenderFns } from \"./Button.vue?vue&type=template&id=8b06a696&\"\nimport script from \"./Button.vue?vue&type=script&lang=js&\"\nexport * from \"./Button.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}